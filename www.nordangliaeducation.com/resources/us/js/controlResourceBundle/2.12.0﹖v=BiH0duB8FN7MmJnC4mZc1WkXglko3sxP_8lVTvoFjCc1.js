function _hi(){alert("hi")}function _isUndefined(n){return n==undefined||n=="undefined"}function _isUndefinedOrNull(n){return n==undefined||n==null||n=="undefined"}function _isNullOrEmpty(n){return n==null||n==undefined||n.length==0||n=="undefined"}function _stringListToCsv(n){for(var i="",t=0;t<n.length;t++)i+=n[t],t<n.length-1&&(i+=",");return i}function _parseBool(n){return n=n+"".toLowerCase(),n=="true"||n=="t"?!0:!1}function ajaxBtnClick(n,t,i){$(n).val(t).addClass(i)}function _enableAjaxMoreButton(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p){$(document).ready(function(){$(n).AjaxMoreButton({itemsPerPage:f,currentPage:e,totalItems:o,numberPages:s,articlesContainerSelector:i,associatedControlID:t,disabledButtonCssClass:r,loadingButtonCssClass:u,excludedIDs:h,additionalProperties:c,direction:l,pageLinkEnabled:a,beforeAppendFunc:v,afterAppendFunc:y,beforeSendFunc:p})})}function sts_GetPageContent(n,t,i){var r=StatusCMSConfig.ApiUrl+"/api/PageContent/"+StatusCMSConfig.CurrentWebSiteID+"/"+StatusCMSConfig.CurrentPageID+"/"+n+"/"+StatusCMSConfig.CurrentLanguage;return r=sts_buildAppropriateUrl(r,t),sts_debug(r),$.getJSON(r,i)}function sts_GetPageMediaContent(n,t,i,r){var u=StatusCMSConfig.ApiUrl+"/api/PageMediaContent/"+StatusCMSConfig.CurrentWebSiteID+"/"+n+"/"+t+"/"+StatusCMSConfig.CurrentLanguage;return u=sts_buildAppropriateUrl(u,i),sts_debug(u),$.getJSON(u,r)}function sts_GetPageHtml(n,t,i){var r=StatusCMSConfig.ApiUrl+"/api-html/"+StatusCMSConfig.CurrentWebSiteID+"/"+StatusCMSConfig.CurrentPageID+"/"+n+"/"+StatusCMSConfig.CurrentLanguage;return r=sts_buildAppropriateUrl(r,t),sts_debug(r),$.get(r,i)}function sts_debug(n){StatusCMSConfig.Debug&&alert(n)}function sts_buildAppropriateUrl(n,t){var i,u="",r;for(r in t)t.hasOwnProperty(r)&&(u+="&"+r+"="+t[r]);return i=n,u.length>0&&(i=i+"?"+u.substr(1)),i}function stscms_09ArticleCalendar_SelectedArticleCategoriesUpdated(n,t){var r=_stscms_09ArticleCalendar_ControlIDRenderVersion[n],i;r=="calendar"?(i=$("#"+_stscms_09ArticleCalendar_WrapperIDBaseSelector+n+" .contentCalendar"),i&&(i.data(_stscms_09ArticleCalendar_CategoryDataKey,t),i.fullCalendar("refetchEvents"))):r=="mobile"&&stscms_11ArticleCalendarList_ArticleCategorySelectionUpdated(n,t)}function stscms_09ArticleCalendar_InitCalendar(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot,st,ht,ct,lt,at,vt,yt){var pt=$._getQueryParams();stscms_09ArticleCalendar_IsMobile(b)||pt._contains(_stscms_09ArticleCalendar_AccessLinkQueryStringKey)?(_stscms_09ArticleCalendar_ControlIDRenderVersion[t]="mobile",stscms_11ArticleCalendarList_CreateNewArticleCalendarList(n,t,et,p,st)):(_stscms_09ArticleCalendar_ControlIDRenderVersion[t]="calendar",stscms_09ArticleCalendar_InitFullCalendar(n,t,i,r,u,f,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,ot,st,ht,ct,lt,at,vt,yt))}function stscms_09ArticleCalendar_InitFullCalendar(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et){function bt(){at++;ot.hasClass(_stscms_09ArticleCalendar_LoadingCssClass)||ot.addClass(_stscms_09ArticleCalendar_LoadingCssClass);ht.removeClass(_stscms_09ArticleCalendar_HiddenCssClass)}function kt(){vt.removeClass(_stscms_09ArticleCalendar_HiddenCssClass)}function dt(){at--;at<=0&&(ot.removeClass(_stscms_09ArticleCalendar_LoadingCssClass),ht.hasClass(_stscms_09ArticleCalendar_HiddenCssClass)||ht.addClass(_stscms_09ArticleCalendar_HiddenCssClass));nt&&nt(ot.attr("id"))}var ot,lt,gt=$("#"+n),ct,at=0,st,ht,vt,yt,pt,wt;lt=_stscms_09ArticleCalendar_WrapperIDBaseSelector+t;ot=$("<div id='"+lt+"' class='"+h+"'><div class='contentCalendar'><\/div><\/div>");gt.wrap(ot);ot=$("#"+lt);st=ot.find("div.contentCalendar");pt=window.location.href._contains("?")?window.location.href+"&"+_stscms_09ArticleCalendar_AccessLinkQueryStringKey+"=1":window.location.href+"?"+_stscms_09ArticleCalendar_AccessLinkQueryStringKey+"=1";yt=$("<a title='"+it+"' class='accessibleLink' href='"+pt+"'>"+it+"<\/a>");ot.prepend(yt);ht=st.find(".ajaxloading");vt=st.find(".ajaxerror");ot.append(ht);ot.append(vt);st.empty();st.data(_stscms_09ArticleCalendar_CategoryDataKey,s);wt=st.fullCalendar({events:function(n,i,r,u){var f,e,o;f={StartDate:n.format("YYYY-MM-DD"),EndDate:i.format("YYYY-MM-DD")};o=st.data(_stscms_09ArticleCalendar_CategoryDataKey);o!=null&&(f.DisplayArticleCategories=o);bt();e=sts_GetPageContent(t,f,function(n){u(n.Articles)});e.fail(kt);e.always(dt)},eventDataTransform:function(n){return n.allDay&&(n.end=moment(n.end+"Z").add(1,"d").toISOString()),n},header:{left:i,center:r,right:u},titleFormat:{month:StatusCMSConfig.DateTimeFormatting.TitleFormat.month,week:StatusCMSConfig.DateTimeFormatting.TitleFormat.week,day:StatusCMSConfig.DateTimeFormatting.TitleFormat.day,list:StatusCMSConfig.DateTimeFormatting.TitleFormat.month},timeFormat:{month:StatusCMSConfig.DateTimeFormatting.TimeFormat,week:StatusCMSConfig.DateTimeFormatting.TimeFormat,day:StatusCMSConfig.DateTimeFormatting.TimeFormat,"":StatusCMSConfig.DateTimeFormatting.TimeFormat},columnFormat:{month:StatusCMSConfig.DateTimeFormatting.ColumnFormat.month,week:StatusCMSConfig.DateTimeFormatting.ColumnFormat.week,day:StatusCMSConfig.DateTimeFormatting.ColumnFormat.day,list:StatusCMSConfig.DateTimeFormatting.ColumnFormat.month},defaultView:f,buttonText:{today:k,month:p,week:w,day:b,list:d},eventAfterAllRender:function(n){if(n.name=="list"&&ct!=null){var i,r,u;i={StartDate:n.start.format("YYYY-MM-DD"),EndDate:n.end.format("YYYY-MM-DD"),ListDisplayTopNav:!1,ListDisplayBottomNav:!1,RenderAjaxTemplates:!1};u=st.data(_stscms_09ArticleCalendar_CategoryDataKey);u!=null&&(i.DisplayArticleCategories=u);bt();r=sts_GetPageHtml(t,i,function(n){ct.empty();ct.append(n)});r.fail(kt);r.always(dt)}},viewRender:function(n,t){n.name=="list"&&(ct=t)},eventRender:function(n,t,i){(i.name=="month"||i.name=="basicDay"||i.name=="basicWeek")&&(t.attr("title",stscms_09ArticleCalendar_GetEventTitle(n,StatusCMSConfig.DateTimeFormatting.TimeFormat,ft)),$(t).tipTip({defaultPosition:tt}))},monthNames:l.split(","),monthNamesShort:a.split(","),dayNames:v.split(","),dayNamesShort:y.split(","),eventClick:g,firstDay:ut,eventLimit:{month:5,"default":!1},height:"auto",allDayText:et});_stscms_09ArticleCalendar_Instances.push(wt)}function stscms_09ArticleCalendar_GetEventTitle(n,t,i){var r;return n.allDay?r=i+"<br />"+n.title:(r=n.start.format(t),n.end&&(r+=" - "+n.end.format(t)),r+="<br />"+n.title),r}function stscms_09ArticleCalendar_IsMobile(n){return $(window).width()<=n}function stscms_10ArticleCalendarFilter_enableFilter(n,t,i,r,u){var e=$("#"+n),f=e.find("div.articleCategories input");$("#"+t).hide();stscms_10ArticleCalendarFilter_SetCheckBoxesData(f);f.click(function(){var o,n,s,t,e;n=$(this);o=stscms_10ArticleCalendarFilter_getCheckBoxCategoryValue(n);o==u?stscms_10ArticleCalendarFilter_setCheckStateAllCheckboxes(f,u,stscms_10ArticleCalendarFilter_isCheckboxChecked(n)):(e=stscms_10ArticleCalendarFilter_areAllCheckboxesChecked(f,u),stscms_10ArticleCalendarFilter_setCheckStateCheckbox(stscms_10ArticleCalendarFilter_getCheckboxByValue(f,u),e));s=stscms_10ArticleCalendarFilter_getSelectedCheckboxesCats(f,e);t=_stringListToCsv(s);stscms_10ArticleCalendarFilter_setCategoryCookies(i,t);r&&r(t)})}function stscms_10ArticleCalendarFilter_SetCheckBoxesData(n){n.each(function(){$(this).data("Value",$(this).parent().attr("data-catname"))})}function stscms_10ArticleCalendarFilter_getCheckboxByValue(n,t){var i;return n.each(function(){$(this).data("Value")==t&&(i=$(this))}),i}function stscms_10ArticleCalendarFilter_setCheckStateAllCheckboxes(n,t,i){n.each(function(){var n,r=$(this);n=stscms_10ArticleCalendarFilter_getCheckBoxCategoryValue(r);n!=t&&stscms_10ArticleCalendarFilter_setCheckStateCheckbox(r,i)})}function stscms_10ArticleCalendarFilter_setCheckStateCheckbox(n,t){n.prop("checked",t)}function stscms_10ArticleCalendarFilter_isCheckboxChecked(n){return n.is(":checked")}function stscms_10ArticleCalendarFilter_getSelectedCheckboxesCats(n,t){var i=[];return n.each(function(){var n;n=stscms_10ArticleCalendarFilter_getCheckBoxCategoryValue($(this));n!=t&&stscms_10ArticleCalendarFilter_isCheckboxChecked($(this))&&i.push(n)}),i}function stscms_10ArticleCalendarFilter_areAllCheckboxesChecked(n,t){var i;return i=!0,n.each(function(){var n;return n=stscms_10ArticleCalendarFilter_getCheckBoxCategoryValue($(this)),n!=t&&!stscms_10ArticleCalendarFilter_isCheckboxChecked($(this))?(i=!1,!1):void 0}),i}function stscms_10ArticleCalendarFilter_getCheckBoxCategoryValue(n){return n.data("Value")}function stscms_10ArticleCalendarFilter_setCategoryCookies(n,t){document.cookie=n+"="+t+"; path=/"}function stscms_11ArticleCalendarList_CreateNewArticleCalendarList(n,t,i,r,u){var f=new stscms_11ArticleCalendarList(n,t,i,r,u);stscms_11ArticleCalendarList_Controls[t]=f;f.init()}function stscms_11ArticleCalendarList_ArticleCategorySelectionUpdated(n,t){var i=stscms_11ArticleCalendarList_Controls[n];i&&(i._currentCategories=t,i.renderCalendarList())}function stscms_11ArticleCalendarList(n,t,i,r,u){this._controlContainerSelector=n;this._controlID=t;this._currentDate=moment(i,"DD/M/YYYY hh:mm:ss A");this._currentCategories=r;this._ajaxRefreshedCallback=u}var stscms_11ArticleCalendarList_Controls;Array.prototype._contains=function(n){for(var t=0;t<this.length;t++)if(this[t]==n)return!0;return!1};String.prototype._contains=function(n){return this.indexOf(n)>-1?!0:!1};$.fn._outerHtml=function(){return $("<span><\/span>").append(this.clone()).html()};$.extend({_getQueryParams:function(){for(var i=[],n,r=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),t=0;t<r.length;t++)n=r[t].split("="),i.push(n[0]),i[n[0]]=n[1];return i},_getQueryParam:function(n){return $.getUrlVars()[n]}});$.fn._sameDomain=function(){var t=window.top.location.host,n=this.attr("href");return!_isNullOrEmpty(n)&&(n._contains("http://")||n._contains("https://"))?n._contains(t):!0};jQuery.fn.MediaGallery=function(n){var n=$.extend({},{auto:!0,start:1,scroll:1,displayGallery:1,displayThumbnails:5,onInit:null,onBeforeScroll:null,onAfterScroll:null,onNext:null,onPrev:null,onThumbnailClick:null,onStart:null,onStop:null,onYouTubeReady:null,width:0,height:0,autoScroll:!1,animation:"scroll",speed:500,delay:4e3,controls:null,thumbsWidth:0,thumbsHeigh:0,mode:"default",thumbnailControls:null,mediaType:"mixed",slideTransition:"",useVideoIframeApi:!1},n);return this.each(function(){var i=$(this),t=n,e=i.find("ul.gallery li"),p=i.find("div.galleryContainer"),o=i.find("ul.thumbnails li"),h=i.find("div.thumbnailsContainer"),v=e.length,a=o.length,k=o.length>0?!0:!1,c=t.width,nt=t.height,r=0,g=e.length,y=null,d=!1,w=!1,s={},f,u,b,l;s.container=null;s.next=null;s.prev=null;f={};f.controls=null;f.next=null;f.prev=null;u={};u.itemWidth=0;u.itemHeight=0;u.itemOffset=0;b=!1;l=0;i.initComplete=!1;i.images=[];i.videos=[];(t.mediaType=="video"||t.mediaType=="mixed")&&(window.onYouTubePlayerAPIReady=function(){i.initVideos();t.onYouTubeReady!=null&&t.onYouTubeReady()});t.autoScroll=!1;i.init=function(){var d,g,nt,tt,n,y,w,it,rt;if(i.css({width:c,opacity:0}),d=0,e.each(function(n){$(this).data("index",n);$(this).data("thumbnail",o[n]);var t=n*c;$(this).css({position:"absolute",top:0,left:t,overflow:"hidden",width:c})}),e.parent().css({left:r*c}),k&&(g=c,t.displayThumbnails>o.length&&(t.displayThumbnails=o.length),l=Math.ceil(a/t.displayThumbnails),u.itemWidth=0,u.itemHeight=0,u.itemOffset=0,o.css({float:"left"}),o.each(function(n){var f,r,o;$(this).data("index",n);$(this).data("item",e[n]);$(this).click(function(){if(i.scrollContinue(),i.scrollTo(n),i.stop(),t.onThumbnailClick!=null)onblur.onThumbnailClick(n,$(this))});f=$(this).html();$(this).empty().html("<div class='itemThumbnail'>"+f+"<\/div>");u.itemWidth=$(this).width();u.itemHeight=$(this).height();r=g-u.itemWidth*t.displayThumbnails;r=r/2;u.itemOffset=r/t.displayThumbnails;o=u.itemWidth*n+u.itemOffset*n;$(this).css({position:"absolute",left:o})}),nt=u.itemWidth*a+u.itemOffset*(a-1),o.parent().css({width:nt,height:u.itemHeight,left:0}),tt=u.itemWidth*t.displayThumbnails+u.itemOffset*(t.displayThumbnails-1),h.css({position:"relative",margin:"0 auto",width:tt,overflow:"hidden"}),t.thumbnailControls!=null&&(n=$(t.thumbnailControls),i.append(n),y=n.find(".prev"),w=n.find(".next"),y.click(function(){$(this).hasClass("disabled")||i.browseThumbs("prev")}),w.click(function(){$(this).hasClass("disabled")||i.browseThumbs("next")}),n.show(),f.container=n,f.next=w,f.prev=y,f.prev.addClass("disabled"),f.next.addClass("disabled"))),d=$(e[0]).height(),p.css({width:c,height:d}),t.controls!=null&&(n=$(t.controls),i.append(n),y=n.find(".prev"),w=n.find(".next"),y.click(function(){if(!$(this).hasClass("disabled")&&(i.scrollContinue(),i.scrollTo(r-1),t.onPrev!=null))t.onPrev(r-1,$(e[r-1]))}),w.click(function(){if(!$(this).hasClass("disabled")&&(i.scrollContinue(),i.scrollTo(r+1),t.onNext!=null))t.onNext(r+1,$(e[r-1]))}),n.show(),s.container=n,s.prev=y,s.next=w,s.prev.addClass("disabled"),s.next.addClass("disabled")),it={over:function(){i.stop()},timeout:1e3,out:function(){i.start()}},t.autoScroll&&t.mode=="circular"&&p.hoverIntent(it),rt=$.browser.version,$.browser.msie&&rt.indexOf("7",0)>-1&&t.useIE7VideoFix&&(b=!0),i.hide(function(){$(this).css({opacity:1})}),i.fadeIn(200,function(){$(this).show()}),i.initComplete=!0,r=t.start-1,(r<0||r>v-1)&&(r=0),t.autoScroll&&t.mode=="circular"&&i.start(),r>0&&i.scrollTo(r,!1),i.setControlState(),t.onInit!=null)t.onInit(i,r)};i.videoStateChange=function(n){var r=n.data;r==0?(w=!1,t.autoScroll&&t.mode=="circular"&&i.start()):r==1&&(w=!0,i.stop())};i.GetGalleryContainer=function(){return p};i.initVideos=function(){var r=i.GetGalleryContainer(),n=r.find("li.youtube iframe");n.length>0&&t.useVideoIframeApi&&n.each(function(){if(!b&&(YT!=null||YT!=undefined)){var n=new YT.Player(this);n.addEventListener?n.addEventListener("onStateChange",i.videoStateChange):n.attachEvent("onStateChange",i.videoStateChange);$(this).data("player",n);i.videos.push(n)}})};i.disabledThumbsScroll=function(){};i.scrollContinue=function(){};i.start=function(){if(clearTimeout(y),d=!1,y=setTimeout(i.scrollTo,t.delay),t.onStart!=null)t.onStart(r)};i.stop=function(){if(clearTimeout(y),d=!0,t.onStop!=null)t.onStop(r)};i.setControlState=function(){var i,c,n;s.container!=null&&t.mode!="circular"?(s.prev.removeClass("disabled"),s.next.removeClass("disabled"),r==0&&s.prev.addClass("disabled"),r==g-1&&s.next.addClass("disabled")):t.mode=="circular"&&(s.prev.removeClass("disabled"),s.next.removeClass("disabled"));e.removeClass("current");$(e[r]).addClass("current");k&&(i=0-(h.width()*l+u.itemOffset*l-(h.width()+u.itemOffset)),c=0,f.prev.removeClass("disabled"),f.next.removeClass("disabled"),l>1?(n=parseInt(o.parent().css("left").replace("px","")),n>=c&&f.prev.addClass("disabled"),n<=i&&f.next.addClass("disabled")):(f.prev.addClass("disabled"),f.next.addClass("disabled")),o.removeClass("current"),$(o[r]).addClass("current"))};i.scrollTo=function(n,u){var f,o;if((n==undefined&&(n=r+1),u==undefined&&(u=!0),clearTimeout(y),w)||t.mode!="circular"&&(n>=v||n<0))return!1;if(t.onBeforeScroll!=null)t.onBeforeScroll(n,$(e[n]),r,$(e[r]));if(f=n*c,n==v?(f=0,n=0):n<0&&(f=(v-1)*c,n=v-1),t.useVideoIframeApi)for(o=0;o<i.videos.length;o++)i.videos[o].pauseVideo();if(u)i.scrollThumbsTo(n,!0),e.parent().animate({left:"-"+f},t.speed,t.slideTransition,function(){if(!t.useVideoIframeApi&&$(e[r]).hasClass("youtube")){var u=$(e[r]).find("iframe"),f=u.attr("src");u.attr("src","");u.attr("src",f)}if(r=n,i.setControlState(),t.onAfterScroll!=null)t.onAfterScroll(r,$(e[r]))});else if(i.scrollThumbsTo(n,!1),e.parent().css({left:"-"+f+"px"}),r=n,i.setControlState(),t.onAfterScroll!=null)t.onAfterScroll(r,$(e[r]))};i.scrollThumbsTo=function(n,i){i==undefined&&(i=!0);var r,f;f=Math.floor(a/t.displayThumbnails);r=Math.floor(n/t.displayThumbnails);dist=0-(h.width()*r+u.itemOffset*r);i?o.parent().animate({left:dist}):o.parent().css({left:dist})};i.browseThumbs=function(n){var r,e,s,i;n!="next"&&n!="prev"&&(n="next");currentPos=a-1;currentPos<0&&(currentPos=0);r=0-(h.width()*Math.ceil((a-1)/t.displayThumbnails)+currentPos*u.itemOffset);e=0;s=parseInt(o.parent().css("left").replace("px",""));i=s;n=="next"?i-=h.width()+u.itemOffset:n=="prev"&&(i+=h.width()+u.itemOffset);i>=0?i=0:i<=0-o.parent().width()&&(i=s);i>e?i=e:i<r&&(i=r);o.parent().animate({left:i},function(){var n,t;n=0-(h.width()*l+u.itemOffset*l-(h.width()+u.itemOffset));t=0;f.prev.removeClass("disabled");f.next.removeClass("disabled");l>1?(i>=t&&f.prev.addClass("disabled"),i<=n&&f.next.addClass("disabled")):(f.prev.addClass("disabled"),f.next.addClass("disabled"))})};t.auto&&i.init()})},function(n){function t(n){for(var t=1;t<arguments.length;t++)n=n.replace("%"+(t-1),arguments[t]);return n}function i(i,r){var u=n("img",i),p,w,f=null,o=null,e=null,h=null,s=null,v=null,c,nt=0,l,a,tt=0,it=0,b=0,k=0,rt=0,d,g,y=this,ut,ft;setTimeout(function(){if(o===null){var n=i.width();i.parent().append(t('<div style="width:%0px;position:absolute;top:75%;left:%1px;text-align:center" class="cloud-zoom-loading" >Loading...<\/div>',n/3,n/2-n/6)).find(":last").css("opacity",.5)}},200);ft=function(){v!==null&&(v.remove(),v=null)};this.removeBits=function(){e&&(e.remove(),e=null);h&&(h.remove(),h=null);s&&(s.remove(),s=null);ft();n(".cloud-zoom-loading",i.parent()).remove()};this.destroy=function(){i.data("zoom",null);o&&(o.unbind(),o.remove(),o=null);f&&(f.remove(),f=null);this.removeBits()};this.fadedOut=function(){f&&(f.remove(),f=null);this.removeBits()};this.controlLoop=function(){if(e){var n=d-u.offset().left-l*.5>>0,t=g-u.offset().top-a*.5>>0;n<0?n=0:n>u.outerWidth()-l&&(n=u.outerWidth()-l);t<0?t=0:t>u.outerHeight()-a&&(t=u.outerHeight()-a);e.css({left:n,top:t});e.css("background-position",-n+"px "+-t+"px");tt=n/u.outerWidth()*c.width>>0;it=t/u.outerHeight()*c.height>>0;k+=(tt-k)/r.smoothMove;b+=(it-b)/r.smoothMove;f.css("background-position",-(k>>0)+"px "+(-(b>>0)+"px"))}nt=setTimeout(function(){y.controlLoop()},30)};this.init2=function(n,t){rt++;t===1&&(c=n);rt===2&&this.init()};this.init=function(){n(".cloud-zoom-loading",i.parent()).remove();o=i.parent().append(t("<div class='mousetrap' style='background-image:url(\".\");z-index:999;position:absolute;width:%0px;height:%1px;left:%2px;top:%3px;'><\/div>",u.outerWidth(),u.outerHeight(),0,0)).find(":last");o.bind("mousemove",this,function(n){d=n.pageX;g=n.pageY});o.bind("mouseleave",this,function(){return clearTimeout(nt),e&&e.fadeOut(299),h&&h.fadeOut(299),s&&s.fadeOut(299),f.fadeOut(300,function(){y.fadedOut()}),!1});o.bind("mouseenter",this,function(y){var p,rt;d=y.pageX;g=y.pageY;ut=y.data;f&&(f.stop(!0,!1),f.remove());var k=r.adjustX,nt=r.adjustY,tt=u.outerWidth(),it=u.outerHeight(),w=r.zoomWidth,b=r.zoomHeight;r.zoomWidth=="auto"&&(w=tt);r.zoomHeight=="auto"&&(b=it);p=i.parent();switch(r.position){case"top":nt-=b;break;case"right":k+=tt;break;case"bottom":nt+=it;break;case"left":k-=w;break;case"inside":w=tt;b=it;break;default:p=n("#"+r.position);p.length?(w=p.innerWidth(),b=p.innerHeight()):(p=i,k+=tt,nt+=it)}f=p.append(t('<div id="cloud-zoom-big" class="cloud-zoom-big" style="display:none;position:absolute;left:%0px;top:%1px;width:%2px;height:%3px;background-image:url(\'%4\');z-index:99;"><\/div>',k,nt,w,b,c.src)).find(":last");u.attr("title")&&r.showTitle&&f.append(t('<div class="cloud-zoom-title">%0<\/div>',u.attr("title"))).find(":last").css("opacity",r.titleOpacity);n.browser.msie&&n.browser.version<7&&(v=n('<iframe frameborder="0" src="#"><\/iframe>').css({position:"absolute",left:k,top:nt,zIndex:99,width:w,height:b}).insertBefore(f));f.fadeIn(500);e&&(e.remove(),e=null);l=u.outerWidth()/c.width*f.width();a=u.outerHeight()/c.height*f.height();e=i.append(t("<div class = 'cloud-zoom-lens' style='display:none;z-index:98;position:absolute;width:%0px;height:%1px;'><\/div>",l,a)).find(":last");o.css("cursor",e.css("cursor"));rt=!1;r.tint&&(e.css("background",'url("'+u.attr("src")+'")'),h=i.append(t('<div style="display:none;position:absolute; left:0px; top:0px; width:%0px; height:%1px; background-color:%2;" />',u.outerWidth(),u.outerHeight(),r.tint)).find(":last"),h.css("opacity",r.tintOpacity),rt=!0,h.fadeIn(500));r.softFocus&&(e.css("background",'url("'+u.attr("src")+'")'),s=i.append(t('<div style="position:absolute;display:none;top:2px; left:2px; width:%0px; height:%1px;" />',u.outerWidth()-2,u.outerHeight()-2,r.tint)).find(":last"),s.css("background",'url("'+u.attr("src")+'")'),s.css("opacity",.5),rt=!0,s.fadeIn(500));rt||e.css("opacity",r.lensOpacity);r.position!=="inside"&&e.fadeIn(500);ut.controlLoop();return})};p=new Image;n(p).load(function(){y.init2(this,0)});p.src=u.attr("src");w=new Image;n(w).load(function(){y.init2(this,1)});w.src=i.attr("href")}n(document).ready(function(){n(".cloud-zoom, .cloud-zoom-gallery").CloudZoom()});n.fn.CloudZoom=function(t){try{document.execCommand("BackgroundImageCache",!1,!0)}catch(r){}return this.each(function(){var relOpts,opts;eval("var\ta = {"+n(this).attr("rel")+"}");relOpts=a;n(this).is(".cloud-zoom")?(n(this).css({position:"relative",display:"inline-block"}),n("img",n(this)).css({display:"block"}),n(this).parent().attr("id")!="wrap"&&n(this).wrap('<div id="wrap" style="top:0px;z-index:9999;position:relative;"><\/div>'),opts=n.extend({},n.fn.CloudZoom.defaults,t),opts=n.extend({},opts,relOpts),n(this).data("zoom",new i(n(this),opts))):n(this).is(".cloud-zoom-gallery")&&(opts=n.extend({},relOpts,t),n(this).data("relOpts",opts),n(this).bind("click",n(this),function(t){var i=t.data.data("relOpts");return n("#"+i.useZoom).data("zoom").destroy(),n("#"+i.useZoom).attr("href",t.data.attr("href")),n("#"+i.useZoom+" img").attr("src",t.data.data("relOpts").smallImage),n("#"+t.data.data("relOpts").useZoom).CloudZoom(),!1}))}),this};n.fn.CloudZoom.defaults={zoomWidth:"auto",zoomHeight:"auto",position:"right",tint:!1,tintOpacity:.5,lensOpacity:.5,softFocus:!1,smoothMove:3,showTitle:!0,titleOpacity:.5,adjustX:0,adjustY:0}}(jQuery),function(n){function r(n,t,i){var u=parseInt(n.css("top"),10),r;return t=="left"?(r="-"+this.image_wrapper_height+"px",n.css("top",this.image_wrapper_height+"px")):(r=this.image_wrapper_height+"px",n.css("top","-"+this.image_wrapper_height+"px")),i&&(i.css("bottom","-"+i[0].offsetHeight+"px"),i.animate({bottom:0},this.settings.animation_speed*2)),this.current_description&&this.current_description.animate({bottom:"-"+this.current_description[0].offsetHeight+"px"},this.settings.animation_speed*2),{old_image:{top:r},new_image:{top:u}}}function u(n,t,i){var u=parseInt(n.css("left"),10),r;return t=="left"?(r="-"+this.image_wrapper_width+"px",n.css("left",this.image_wrapper_width+"px")):(r=this.image_wrapper_width+"px",n.css("left","-"+this.image_wrapper_width+"px")),i&&(i.css("bottom","-"+i[0].offsetHeight+"px"),i.animate({bottom:0},this.settings.animation_speed*2)),this.current_description&&this.current_description.animate({bottom:"-"+this.current_description[0].offsetHeight+"px"},this.settings.animation_speed*2),{old_image:{left:r},new_image:{left:u}}}function f(n){var t=n.width(),i=n.height(),r=parseInt(n.css("left"),10),u=parseInt(n.css("top"),10);return n.css({width:0,height:0,top:this.image_wrapper_height/2,left:this.image_wrapper_width/2}),{old_image:{width:0,height:0,top:this.image_wrapper_height/2,left:this.image_wrapper_width/2},new_image:{width:t,height:i,top:u,left:r}}}function e(n){return n.css("opacity",0),{old_image:{opacity:0},new_image:{opacity:1}}}function o(n){return n.css("opacity",0),{old_image:{opacity:0},new_image:{opacity:1},speed:0}}function t(n,t){this.init(n,t)}function i(n,t){this.init(n,t)}n.fn.adGallery=function(i){var f={loader_image:"",start_at_index:0,description_wrapper:!1,thumb_opacity:.7,animate_first_image:!1,animation_speed:400,width:!1,height:!1,display_next_and_prev:!0,display_back_and_forward:!0,scroll_jump:0,slideshow:{enable:!1,autostart:!1,speed:5e3,start_label:"Start",stop_label:"Stop",stop_on_scroll:!0,countdown_prefix:"(",countdown_sufix:")",onStart:!1,onStop:!1},effect:"slide-hori",enable_keyboard_move:!0,cycle:!0,callbacks:{init:!1,afterImageVisible:!1,beforeImageVisible:!1}},r=n.extend(!1,f,i),u;return i&&i.slideshow&&(r.slideshow=n.extend(!1,f.slideshow,i.slideshow)),r.slideshow.enable||(r.slideshow.autostart=!1),u=[],n(this).each(function(){var n=new t(this,r);u[u.length]=n}),u};t.prototype={wrapper:!1,image_wrapper:!1,gallery_info:!1,nav:!1,loader:!1,preloads:!1,thumbs_wrapper:!1,scroll_back:!1,scroll_forward:!1,next_link:!1,prev_link:!1,slideshow:!1,image_wrapper_width:0,image_wrapper_height:0,current_index:0,current_image:!1,current_description:!1,nav_display_width:0,settings:!1,images:!1,in_transition:!1,animations:!1,init:function(t,r){var f=this,e,u;this.wrapper=n(t);this.settings=r;this.setupElements();this.setupAnimations();this.settings.width?(this.image_wrapper_width=this.settings.width,this.image_wrapper.width(this.settings.width),this.wrapper.width(this.settings.width)):this.image_wrapper_width=this.image_wrapper.width();this.settings.height?(this.image_wrapper_height=this.settings.height,this.image_wrapper.height(this.settings.height)):this.image_wrapper_height=this.image_wrapper.height();this.nav_display_width=this.nav.width();this.current_index=0;this.current_image=!1;this.current_description=!1;this.in_transition=!1;this.findImages();this.settings.display_next_and_prev&&this.initNextAndPrev();e=function(n){return f.nextImage(n)};this.slideshow=new i(e,this.settings.slideshow);this.controls.append(this.slideshow.create());this.settings.slideshow.enable?this.slideshow.enable():this.slideshow.disable();this.settings.display_back_and_forward&&this.initBackAndForward();this.settings.enable_keyboard_move&&this.initKeyEvents();u=parseInt(this.settings.start_at_index,10);window.location.hash&&window.location.hash.indexOf("#ad-image")===0&&(u=window.location.hash.replace(/[^0-9]+/g,""),u*1!=u&&(u=this.settings.start_at_index));this.loading(!0);this.showImage(u,function(){f.settings.slideshow.autostart&&(f.preloadImage(u+1),f.slideshow.start())});this.fireCallback(this.settings.callbacks.init)},setupAnimations:function(){this.animations={"slide-vert":r,"slide-hori":u,resize:f,fade:e,none:o}},setupElements:function(){this.controls=this.wrapper.find(".ad-controls");this.gallery_info=n('<p class="ad-info"><\/p>');this.controls.append(this.gallery_info);this.image_wrapper=this.wrapper.find(".ad-image-wrapper");this.image_wrapper.empty();this.nav=this.wrapper.find(".ad-nav");this.thumbs_wrapper=this.nav.find(".ad-thumbs");this.preloads=n('<div class="ad-preloads"><\/div>');this.loader=n('<img class="ad-loader" src="'+this.settings.loader_image+'">');this.image_wrapper.append(this.loader);this.loader.hide();n(document.body).append(this.preloads)},loading:function(n){n?this.loader.show():this.loader.hide()},addAnimation:function(t,i){n.isFunction(i)&&(this.animations[t]=i)},findImages:function(){var t=this,f;this.images=[];var i=70,r=0,u=this.thumbs_wrapper.find("a"),e=u.length;this.settings.thumb_opacity<1&&u.find("img").css("opacity",this.settings.thumb_opacity);u.each(function(u){var e=n(this),h=e.attr("href"),f=e.find("img"),o,s;t.isImageLoaded(f[0])?(i+=f[0].parentNode.parentNode.offsetWidth,r++):f.load(function(){i+=this.parentNode.parentNode.offsetWidth;r++});e.addClass("ad-thumb"+u);e.click(function(){return t.showImage(u),t.slideshow.stop(),!1}).hover(function(){!n(this).is(".ad-active")&&t.settings.thumb_opacity<1&&n(this).find("img").fadeTo(300,1);t.preloadImage(u)},function(){!n(this).is(".ad-active")&&t.settings.thumb_opacity<1&&n(this).find("img").fadeTo(300,t.settings.thumb_opacity)});e=!1;f.data("ad-link")?e=f.data("ad-link"):f.attr("longdesc")&&f.attr("longdesc").length&&(e=f.attr("longdesc"));o=!1;f.data("ad-desc")?o=f.data("ad-desc"):f.attr("alt")&&f.attr("alt").length&&(o=f.attr("alt"));s=!1;f.data("ad-title")?s=f.data("ad-title"):f.attr("title")&&f.attr("title").length&&(s=f.attr("title"));t.images[u]={thumb:f.attr("src"),image:h,error:!1,preloaded:!1,desc:o,title:s,size:!1,link:e}});f=setInterval(function(){var n,u,o;if(e==r){for(n=t.nav.find(".ad-thumb-list"),n.css("width",i+"px"),u=1,o=n.height();u<201;){if(n.css("width",i+u+"px"),o!=n.height())break;o=n.height();u++}clearInterval(f)}},100)},initKeyEvents:function(){var t=this;n(document).keydown(function(n){n.keyCode==39?(t.nextImage(),t.slideshow.stop()):n.keyCode==37&&(t.prevImage(),t.slideshow.stop())})},initNextAndPrev:function(){this.next_link=n('<div class="ad-next"><div class="ad-next-image"><\/div><\/div>');this.prev_link=n('<div class="ad-prev"><div class="ad-prev-image"><\/div><\/div>');this.image_wrapper.append(this.next_link);this.image_wrapper.append(this.prev_link);var t=this;this.prev_link.add(this.next_link).mouseover(function(){n(this).css("height",t.image_wrapper_height);n(this).find("div").show()}).mouseout(function(){n(this).find("div").hide()}).click(function(){n(this).is(".ad-next")?(t.nextImage(),t.slideshow.stop()):(t.prevImage(),t.slideshow.stop())}).find("div").css("opacity",.7)},initBackAndForward:function(){var t=this,i,r;this.scroll_forward=n('<div class="ad-forward"><\/div>');this.scroll_back=n('<div class="ad-back"><\/div>');this.nav.append(this.scroll_forward);this.nav.prepend(this.scroll_back);i=0;r=!1;n(this.scroll_back).add(this.scroll_forward).click(function(){var i=t.nav_display_width-50,r;return t.settings.scroll_jump>0&&(i=t.settings.scroll_jump),r=n(this).is(".ad-forward")?t.thumbs_wrapper.scrollLeft()+i:t.thumbs_wrapper.scrollLeft()-i,t.settings.slideshow.stop_on_scroll&&t.slideshow.stop(),t.thumbs_wrapper.animate({scrollLeft:r+"px"}),!1}).css("opacity",.6).hover(function(){var u="left";n(this).is(".ad-forward")&&(u="right");r=setInterval(function(){i++;i>30&&t.settings.slideshow.stop_on_scroll&&t.slideshow.stop();var n=t.thumbs_wrapper.scrollLeft()+1;u=="left"&&(n=t.thumbs_wrapper.scrollLeft()-1);t.thumbs_wrapper.scrollLeft(n)},10);n(this).css("opacity",1)},function(){i=0;clearInterval(r);n(this).css("opacity",.6)})},_afterShow:function(){this.gallery_info.html(this.current_index+1+" / "+this.images.length);this.settings.cycle||(this.prev_link.show().css("height",this.image_wrapper_height),this.next_link.show().css("height",this.image_wrapper_height),this.current_index==this.images.length-1&&this.next_link.hide(),this.current_index==0&&this.prev_link.hide());this.fireCallback(this.settings.callbacks.afterImageVisible)},_getContainedImageSize:function(n,t){var i;return t>this.image_wrapper_height&&(i=n/t,t=this.image_wrapper_height,n=this.image_wrapper_height*i),n>this.image_wrapper_width&&(i=t/n,n=this.image_wrapper_width,t=this.image_wrapper_width*i),{width:n,height:t}},_centerImage:function(n,t,i){var r;n.css("top","0px");i<this.image_wrapper_height&&(r=this.image_wrapper_height-i,n.css("top",r/2+"px"));n.css("left","0px");t<this.image_wrapper_width&&(r=this.image_wrapper_width-t,n.css("left",r/2+"px"))},_getDescription:function(t){var i=!1,r;return(t.desc.length||t.title.length)&&(r="",t.title.length&&(r='<strong class="ad-description-title">'+t.title+"<\/strong>"),i="",t.desc.length&&(i="<span>"+t.desc+"<\/span>"),i=n('<p class="ad-image-description">'+r+i+"<\/p>")),i},showImage:function(n,t){if(this.images[n]&&!this.in_transition){var i=this,r=this.images[n];this.in_transition=!0;r.preloaded?this._showWhenLoaded(n,t):(this.loading(!0),this.preloadImage(n,function(){i.loading(!1);i._showWhenLoaded(n,t)}))}},_showWhenLoaded:function(t,i){var c,e,u,w,l,y,p;if(this.images[t]){var f=this,o=this.images[t],r=n(document.createElement("div")).addClass("ad-image"),h=n(new Image).attr("src",o.image);if(o.link?(c=n('<a href="'+o.link+'" target="_blank"><\/a>'),c.append(h),r.append(c)):r.append(h),this.image_wrapper.prepend(r),e=this._getContainedImageSize(o.size.width,o.size.height),h.attr("width",e.width),h.attr("height",e.height),r.css({width:e.width+"px",height:e.height+"px"}),this._centerImage(r,e.width,e.height),u=this._getDescription(o,r),u&&(this.settings.description_wrapper?this.settings.description_wrapper.append(u):(r.append(u),w=e.width-parseInt(u.css("padding-left"),10)-parseInt(u.css("padding-right"),10),u.css("width",w+"px"))),this.highLightThumb(this.nav.find(".ad-thumb"+t)),l="right",this.current_index<t&&(l="left"),this.fireCallback(this.settings.callbacks.beforeImageVisible),this.current_image||this.settings.animate_first_image){var a=this.settings.animation_speed,v="swing",s=this.animations[this.settings.effect].call(this,r,l,u);typeof s.speed!="undefined"&&(a=s.speed);typeof s.easing!="undefined"&&(v=s.easing);this.current_image&&(y=this.current_image,p=this.current_description,y.animate(s.old_image,a,v,function(){y.remove();p&&p.remove()}));r.animate(s.new_image,a,v,function(){f.current_index=t;f.current_image=r;f.current_description=u;f.in_transition=!1;f._afterShow();f.fireCallback(i)})}else this.current_index=t,this.current_image=r,f.current_description=u,this.in_transition=!1,f._afterShow(),this.fireCallback(i)}},nextIndex:function(){var n;if(this.current_index==this.images.length-1){if(!this.settings.cycle)return!1;n=0}else n=this.current_index+1;return n},nextImage:function(n){var t=this.nextIndex();return t===!1?!1:(this.preloadImage(t+1),this.showImage(t,n),!0)},prevIndex:function(){var n;if(this.current_index==0){if(!this.settings.cycle)return!1;n=this.images.length-1}else n=this.current_index-1;return n},prevImage:function(n){var t=this.prevIndex();return t===!1?!1:(this.preloadImage(t-1),this.showImage(t,n),!0)},preloadAll:function(){function i(){n<t.images.length&&(n++,t.preloadImage(n,i))}var t=this,n=0;t.preloadImage(n,i)},preloadImage:function(t,i){var r,u,f;this.images[t]&&(r=this.images[t],this.images[t].preloaded?this.fireCallback(i):(u=n(new Image),u.attr("src",r.image),this.isImageLoaded(u[0])?(r.preloaded=!0,r.size={width:u[0].width,height:u[0].height},this.fireCallback(i)):(this.preloads.append(u),f=this,u.load(function(){r.preloaded=!0;r.size={width:this.width,height:this.height};f.fireCallback(i)}).error(function(){r.error=!0;r.preloaded=!1;r.size=!1}))))},isImageLoaded:function(n){return typeof n.complete!="undefined"&&!n.complete?!1:typeof n.naturalWidth!="undefined"&&n.naturalWidth==0?!1:!0},highLightThumb:function(n){this.thumbs_wrapper.find(".ad-active").removeClass("ad-active");n.addClass("ad-active");this.settings.thumb_opacity<1&&(this.thumbs_wrapper.find("a:not(.ad-active) img").fadeTo(300,this.settings.thumb_opacity),n.find("img").fadeTo(300,1));var t=n[0].parentNode.offsetLeft;t-=this.nav_display_width/2-n[0].offsetWidth/2;this.thumbs_wrapper.animate({scrollLeft:t+"px"})},fireCallback:function(t){n.isFunction(t)&&t.call(this)}};i.prototype={start_link:!1,stop_link:!1,countdown:!1,controls:!1,settings:!1,nextimage_callback:!1,enabled:!1,running:!1,countdown_interval:!1,init:function(n,t){var i=this;this.nextimage_callback=n;this.settings=t},create:function(){this.start_link=n('<span class="ad-slideshow-start">'+this.settings.start_label+"<\/span>");this.stop_link=n('<span class="ad-slideshow-stop">'+this.settings.stop_label+"<\/span>");this.countdown=n('<span class="ad-slideshow-countdown"><\/span>');this.controls=n('<div class="ad-slideshow-controls"><\/div>');this.controls.append(this.start_link).append(this.stop_link).append(this.countdown);this.countdown.hide();var t=this;return this.start_link.click(function(){t.start()}),this.stop_link.click(function(){t.stop()}),n(document).keydown(function(n){n.keyCode==83&&(t.running?t.stop():t.start())}),this.controls},disable:function(){this.enabled=!1;this.stop();this.controls.hide()},enable:function(){this.enabled=!0;this.controls.show()},toggle:function(){this.enabled?this.disable():this.enable()},start:function(){if(this.running||!this.enabled)return!1;var n=this;return this.running=!0,this.controls.addClass("ad-slideshow-running"),this._next(),this.fireCallback(this.settings.onStart),!0},stop:function(){return this.running?(this.running=!1,this.countdown.hide(),this.controls.removeClass("ad-slideshow-running"),clearInterval(this.countdown_interval),this.fireCallback(this.settings.onStop),!0):!1},_next:function(){var n=this,i=this.settings.countdown_prefix,r=this.settings.countdown_sufix,t;clearInterval(n.countdown_interval);this.countdown.show().html(i+this.settings.speed/1e3+r);t=0;this.countdown_interval=setInterval(function(){var f,u;t+=1e3;t>=n.settings.speed&&(f=function(){n.running&&n._next();t=0},n.nextimage_callback(f)||n.stop(),t=0);u=parseInt(n.countdown.text().replace(/[^0-9]/g,""),10);u--;u>0&&n.countdown.html(i+u+r)},1e3)},fireCallback:function(t){n.isFunction(t)&&t.call(this)}}}(jQuery);$(document).ready(function(){typeof _ajaxNewsMoreButtons!="undefined"&&jQuery.each(_ajaxNewsMoreButtons,function(n,t){var i="",r="",u="",f="",e="",o=0,s=0,h=0,c=0,l={},a={},v="Next",y=!0,p=null,w=null,b=null;i=t.buttonContainerSelector;r=t.articlesControlID;u=t.articlesContainerSelector;f=t.disabledCssClass;e=t.loadingCssClass;o=t.itemsPerPage;s=t.currentPage;h=t.totalItems;c=t.numberPages;l=t.excludedIDs;a=t.properties;v=t.direction;y=t.pageLinkEnabled;p=t.beforeAppendFunc;w=t.afterAppendFunc;b=t.beforeSendFunc;_enableAjaxMoreButton(i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b)})});jQuery.fn.AjaxMoreButton=function(n){var n=$.extend({},{itemsPerPage:1,currentPage:1,totalItems:0,numberPages:0,articlesContainerSelector:null,associatedControlID:null,disabledButtonCssClass:null,loadingButtonCssClass:null,additionalProperties:null,loadingBtnText:null,direction:"Next",pageLinkEnabled:!0,beforeAppendFunc:null,afterAppendFunc:null,beforeSendFunc:null},n);return this.each(function(){var t=$(this),e=n.itemsPerPage,i=n.currentPage,v=n.totalItems,u=n.numberPages,o=n.articlesContainerSelector,c=n.associatedControlID,s=n.disabledButtonCssClass,f=n.loadingButtonCssClass,h=!1,l=n.additionalProperties,r=n.direction,a=n.pageLinkEnabled,y=n.beforeAppendFunc,p=n.afterAppendFunc,w=n.beforeSendFunc;t.init=function(){if(i<u&&r=="Next"||i>1&&r=="Previous")t.find("input").on("click",t.ajaxMoreButtonOnClickEventHandler)};t.ajaxMoreButtonOnClickEventHandler=function(v){var w=$(this),d=w.val(),y,b,k,p;h||!_isNullOrEmpty(i)&&i>0&&!_isNullOrEmpty(u)&&u>0&&!_isNullOrEmpty(e)&&e>0&&!_isNullOrEmpty(o)&&!_isNullOrEmpty(c)&&(y=r=="Previous"?i-1:i+1,b=y==u,k=y==1,(b&&r=="Next"||k&&r=="Previous")&&(h=!0),y>=1&&y<=u&&(_isNullOrEmpty(f)||t.hasClass(f)||t.addClass(f),p={ItemsPerPage:e,CurrentPage:y},p=$.extend(!0,{},p,l),i=y,_isNullOrEmpty(n.loadingBtnText)||w.val(n.loadingBtnText),n.beforeSendFunc!=null&&n.beforeSendFunc(t,p),sts_GetPageHtml(c,p,function(i){i!=null&&(n.beforeAppendFunc!=null&&n.beforeAppendFunc(t,p),r=="Previous"?$(o).prepend(i):$(o).append(i),n.afterAppendFunc!=null&&n.afterAppendFunc(t,p),w.val(d));t.removeClass(f);h&&(_isNullOrEmpty(s)||t.hasClass(s)||t.addClass(s));a&&history.replaceState(null,null,"?page="+y)})));v.preventDefault()};t.init()})},function(n){function it(n,t,i){switch(arguments.length){case 2:return null!=n?n:t;case 3:return null!=n?n:null!=t?t:i;default:throw new Error("Implement me");}}function p(n,t){return nf.call(n,t)}function ot(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function ni(n){t.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+n)}function o(n,t){var i=!0;return w(function(){return i&&(ni(n),i=!1),t.apply(this,arguments)},t)}function kr(n,t){wr[n]||(ni(t),wr[n]=!0)}function ti(n,t){return function(i){return r(n.call(this,i),t)}}function dr(n,t){return function(i){return this.localeData().ordinal(n.call(this,i),t)}}function ii(){}function rt(n,t){t!==!1&&vi(n);ri(this,n);this._d=new Date(+n._d)}function st(n){var i=hi(n),r=i.year||0,u=i.quarter||0,f=i.month||0,e=i.week||0,o=i.day||0,s=i.hour||0,h=i.minute||0,c=i.second||0,l=i.millisecond||0;this._milliseconds=+l+1e3*c+6e4*h+36e5*s;this._days=+o+7*e;this._months=+f+3*u+12*r;this._data={};this._locale=t.localeData();this._bubble()}function w(n,t){for(var i in t)p(t,i)&&(n[i]=t[i]);return p(t,"toString")&&(n.toString=t.toString),p(t,"valueOf")&&(n.valueOf=t.valueOf),n}function ri(n,t){var u,i,r;if("undefined"!=typeof t._isAMomentObject&&(n._isAMomentObject=t._isAMomentObject),"undefined"!=typeof t._i&&(n._i=t._i),"undefined"!=typeof t._f&&(n._f=t._f),"undefined"!=typeof t._l&&(n._l=t._l),"undefined"!=typeof t._strict&&(n._strict=t._strict),"undefined"!=typeof t._tzm&&(n._tzm=t._tzm),"undefined"!=typeof t._isUTC&&(n._isUTC=t._isUTC),"undefined"!=typeof t._offset&&(n._offset=t._offset),"undefined"!=typeof t._pf&&(n._pf=t._pf),"undefined"!=typeof t._locale&&(n._locale=t._locale),ft.length>0)for(u in ft)i=ft[u],r=t[i],"undefined"!=typeof r&&(n[i]=r);return n}function s(n){return 0>n?Math.ceil(n):Math.floor(n)}function r(n,t,i){for(var r=""+Math.abs(n),u=n>=0;r.length<t;)r="0"+r;return(u?i?"+":"":"-")+r}function ui(n,t){var i={milliseconds:0,months:0};return i.months=t.month()-n.month()+12*(t.year()-n.year()),n.clone().add(i.months,"M").isAfter(t)&&--i.months,i.milliseconds=+t-+n.clone().add(i.months,"M"),i}function gr(n,t){var i;return t=ct(t,n),n.isBefore(t)?i=ui(n,t):(i=ui(t,n),i.milliseconds=-i.milliseconds,i.months=-i.months),i}function fi(n,i){return function(r,u){var f,e;return null===u||isNaN(+u)||(kr(i,"moment()."+i+"(period, number) is deprecated. Please use moment()."+i+"(number, period)."),e=r,r=u,u=e),r="string"==typeof r?+r:r,f=t.duration(r,u),ei(this,f,n),this}}function ei(n,i,r,u){var o=i._milliseconds,f=i._days,e=i._months;u=null==u?!0:u;o&&n._d.setTime(+n._d+o*r);f&&ir(n,"Date",pt(n,"Date")+f*r);e&&tr(n,pt(n,"Month")+e*r);u&&t.updateOffset(n,f||e)}function ut(n){return"[object Array]"===Object.prototype.toString.call(n)}function oi(n){return"[object Date]"===Object.prototype.toString.call(n)||n instanceof Date}function si(n,t,r){for(var e=Math.min(n.length,t.length),o=Math.abs(n.length-t.length),f=0,u=0;e>u;u++)(r&&n[u]!==t[u]||!r&&i(n[u])!==i(t[u]))&&f++;return f+o}function e(n){if(n){var t=n.toLowerCase().replace(/(.)s$/,"$1");n=kf[n]||df[t]||t}return n}function hi(n){var i,t,r={};for(t in n)p(n,t)&&(i=e(t),i&&(r[i]=n[t]));return r}function nu(i){var r,u;if(0===i.indexOf("week"))r=7,u="day";else{if(0!==i.indexOf("month"))return;r=12;u="month"}t[i]=function(f,e){var o,s,c=t._locale[i],h=[];if("number"==typeof f&&(e=f,f=n),s=function(n){var i=t().utc().set(u,n);return c.call(t._locale,i,f||"")},null!=e)return s(e);for(o=0;r>o;o++)h.push(s(o));return h}}function i(n){var t=+n,i=0;return 0!==t&&isFinite(t)&&(i=t>=0?Math.floor(t):Math.ceil(t)),i}function ht(n,t){return new Date(Date.UTC(n,t+1,0)).getUTCDate()}function ci(n,i,r){return b(t([n,11,31+i-r]),i,r).week}function li(n){return ai(n)?366:365}function ai(n){return n%4==0&&n%100!=0||n%400==0}function vi(n){var t;n._a&&-2===n._pf.overflow&&(t=n._a[a]<0||n._a[a]>11?a:n._a[h]<1||n._a[h]>ht(n._a[l],n._a[a])?h:n._a[f]<0||n._a[f]>24||24===n._a[f]&&(0!==n._a[d]||0!==n._a[g]||0!==n._a[nt])?f:n._a[d]<0||n._a[d]>59?d:n._a[g]<0||n._a[g]>59?g:n._a[nt]<0||n._a[nt]>999?nt:-1,n._pf._overflowDayOfYear&&(l>t||t>h)&&(t=h),n._pf.overflow=t)}function yi(t){return null==t._isValid&&(t._isValid=!isNaN(t._d.getTime())&&t._pf.overflow<0&&!t._pf.empty&&!t._pf.invalidMonth&&!t._pf.nullInput&&!t._pf.invalidFormat&&!t._pf.userInvalidated,t._strict&&(t._isValid=t._isValid&&0===t._pf.charsLeftOver&&0===t._pf.unusedTokens.length&&t._pf.bigHour===n)),t._isValid}function pi(n){return n?n.toLowerCase().replace("_","-"):n}function tu(n){for(var i,t,f,r,u=0;u<n.length;){for(r=pi(n[u]).split("-"),i=r.length,t=pi(n[u+1]),t=t?t.split("-"):null;i>0;){if(f=wi(r.slice(0,i).join("-")))return f;if(t&&t.length>=i&&si(r,t,!0)>=i-1)break;i--}u++}return null}function wi(n){var i=null;if(!tt[n]&&or)try{i=t.locale();require("./locale/"+n);t.locale(i)}catch(r){}return tt[n]}function ct(n,i){var r,u;return i._isUTC?(r=i.clone(),u=(t.isMoment(n)||oi(n)?+n:+t(n))-+r,r._d.setTime(+r._d+u),t.updateOffset(r,!1),r):t(n).local()}function iu(n){return n.match(/\[[\s\S]/)?n.replace(/^\[|\]$/g,""):n.replace(/\\/g,"")}function ru(n){for(var i=n.match(sr),t=0,r=i.length;r>t;t++)i[t]=v[i[t]]?v[i[t]]:iu(i[t]);return function(u){var f="";for(t=0;r>t;t++)f+=i[t]instanceof Function?i[t].call(u,n):i[t];return f}}function lt(n,t){return n.isValid()?(t=bi(t,n.localeData()),gt[t]||(gt[t]=ru(t)),gt[t](n)):n.localeData().invalidDate()}function bi(n,t){function r(n){return t.longDateFormat(n)||n}var i=5;for(et.lastIndex=0;i>=0&&et.test(n);)n=n.replace(et,r),et.lastIndex=0,i-=1;return n}function uu(n,t){var i=t._strict;switch(n){case"Q":return cr;case"DDDD":return ar;case"YYYY":case"GGGG":case"gggg":return i?vf:ef;case"Y":case"G":case"g":return pf;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return i?yf:of;case"S":if(i)return cr;case"SS":if(i)return lr;case"SSS":if(i)return ar;case"DDD":return ff;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return hf;case"a":case"A":return t._locale._meridiemParse;case"x":return lf;case"X":return af;case"Z":case"ZZ":return bt;case"T":return cf;case"SSSS":return sf;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return i?lr:hr;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return hr;case"Do":return i?t._locale._ordinalParse:t._locale._ordinalParseLenient;default:return new RegExp(cu(hu(n.replace("\\","")),"i"))}}function ki(n){n=n||"";var r=n.match(bt)||[],f=r[r.length-1]||[],t=(f+"").match(bf)||["-",0,0],u=+(60*t[1])+i(t[2]);return"+"===t[0]?-u:u}function fu(n,r,u){var o,e=u._a;switch(n){case"Q":null!=r&&(e[a]=3*(i(r)-1));break;case"M":case"MM":null!=r&&(e[a]=i(r)-1);break;case"MMM":case"MMMM":o=u._locale.monthsParse(r,n,u._strict);null!=o?e[a]=o:u._pf.invalidMonth=r;break;case"D":case"DD":null!=r&&(e[h]=i(r));break;case"Do":null!=r&&(e[h]=i(parseInt(r.match(/\d{1,2}/)[0],10)));break;case"DDD":case"DDDD":null!=r&&(u._dayOfYear=i(r));break;case"YY":e[l]=t.parseTwoDigitYear(r);break;case"YYYY":case"YYYYY":case"YYYYYY":e[l]=i(r);break;case"a":case"A":u._isPm=u._locale.isPM(r);break;case"h":case"hh":u._pf.bigHour=!0;case"H":case"HH":e[f]=i(r);break;case"m":case"mm":e[d]=i(r);break;case"s":case"ss":e[g]=i(r);break;case"S":case"SS":case"SSS":case"SSSS":e[nt]=i(1e3*("0."+r));break;case"x":u._d=new Date(i(r));break;case"X":u._d=new Date(1e3*parseFloat(r));break;case"Z":case"ZZ":u._useUTC=!0;u._tzm=ki(r);break;case"dd":case"ddd":case"dddd":o=u._locale.weekdaysParse(r);null!=o?(u._w=u._w||{},u._w.d=o):u._pf.invalidWeekday=r;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":n=n.substr(0,1);case"gggg":case"GGGG":case"GGGGG":n=n.substr(0,2);r&&(u._w=u._w||{},u._w[n]=i(r));break;case"gg":case"GG":u._w=u._w||{};u._w[n]=t.parseTwoDigitYear(r)}}function eu(n){var i,o,f,u,r,e,s;i=n._w;null!=i.GG||null!=i.W||null!=i.E?(r=1,e=4,o=it(i.GG,n._a[l],b(t(),1,4).year),f=it(i.W,1),u=it(i.E,1)):(r=n._locale._week.dow,e=n._locale._week.doy,o=it(i.gg,n._a[l],b(t(),r,e).year),f=it(i.w,1),null!=i.d?(u=i.d,r>u&&++f):u=null!=i.e?i.e+r:r);s=du(o,f,u,e,r);n._a[l]=s.year;n._dayOfYear=s.dayOfYear}function at(n){var t,i,r,u,e=[];if(!n._d){for(r=su(n),n._w&&null==n._a[h]&&null==n._a[a]&&eu(n),n._dayOfYear&&(u=it(n._a[l],r[l]),n._dayOfYear>li(u)&&(n._pf._overflowDayOfYear=!0),i=yt(u,0,n._dayOfYear),n._a[a]=i.getUTCMonth(),n._a[h]=i.getUTCDate()),t=0;3>t&&null==n._a[t];++t)n._a[t]=e[t]=r[t];for(;7>t;t++)n._a[t]=e[t]=null==n._a[t]?2===t?1:0:n._a[t];24===n._a[f]&&0===n._a[d]&&0===n._a[g]&&0===n._a[nt]&&(n._nextDay=!0,n._a[f]=0);n._d=(n._useUTC?yt:pu).apply(null,e);null!=n._tzm&&n._d.setUTCMinutes(n._d.getUTCMinutes()+n._tzm);n._nextDay&&(n._a[f]=24)}}function ou(n){var t;n._d||(t=hi(n._i),n._a=[t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],at(n))}function su(n){var t=new Date;return n._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function vt(i){if(i._f===t.ISO_8601)return void di(i);i._a=[];i._pf.empty=!0;for(var r,e,h,u=""+i._i,l=u.length,c=0,s=bi(i._f,i._locale).match(sr)||[],o=0;o<s.length;o++)e=s[o],r=(u.match(uu(e,i))||[])[0],r&&(h=u.substr(0,u.indexOf(r)),h.length>0&&i._pf.unusedInput.push(h),u=u.slice(u.indexOf(r)+r.length),c+=r.length),v[e]?(r?i._pf.empty=!1:i._pf.unusedTokens.push(e),fu(e,r,i)):i._strict&&!r&&i._pf.unusedTokens.push(e);i._pf.charsLeftOver=l-c;u.length>0&&i._pf.unusedInput.push(u);i._pf.bigHour===!0&&i._a[f]<=12&&(i._pf.bigHour=n);i._isPm&&i._a[f]<12&&(i._a[f]+=12);i._isPm===!1&&12===i._a[f]&&(i._a[f]=0);at(i);vi(i)}function hu(n){return n.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(n,t,i,r,u){return t||i||r||u})}function cu(n){return n.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function lu(n){var t,f,u,r,i;if(0===n._f.length)return n._pf.invalidFormat=!0,void(n._d=new Date(NaN));for(r=0;r<n._f.length;r++)i=0,t=ri({},n),null!=n._useUTC&&(t._useUTC=n._useUTC),t._pf=ot(),t._f=n._f[r],vt(t),yi(t)&&(i+=t._pf.charsLeftOver,i+=10*t._pf.unusedTokens.length,t._pf.score=i,(null==u||u>i)&&(u=i,f=t));w(n,f||t)}function di(n){var t,i,r=n._i,u=wf.exec(r);if(u){for(n._pf.iso=!0,t=0,i=kt.length;i>t;t++)if(kt[t][1].exec(r)){n._f=kt[t][0]+(u[6]||" ");break}for(t=0,i=dt.length;i>t;t++)if(dt[t][1].exec(r)){n._f+=dt[t][0];break}r.match(bt)&&(n._f+="Z");vt(n)}else n._isValid=!1}function au(n){di(n);n._isValid===!1&&(delete n._isValid,t.createFromInputFallback(n))}function vu(n,t){for(var r=[],i=0;i<n.length;++i)r.push(t(n[i],i));return r}function yu(i){var u,r=i._i;r===n?i._d=new Date:oi(r)?i._d=new Date(+r):null!==(u=tf.exec(r))?i._d=new Date(+u[1]):"string"==typeof r?au(i):ut(r)?(i._a=vu(r.slice(0),function(n){return parseInt(n,10)}),at(i)):"object"==typeof r?ou(i):"number"==typeof r?i._d=new Date(r):t.createFromInputFallback(i)}function pu(n,t,i,r,u,f,e){var o=new Date(n,t,i,r,u,f,e);return 1970>n&&o.setFullYear(n),o}function yt(n){var t=new Date(Date.UTC.apply(null,arguments));return 1970>n&&t.setUTCFullYear(n),t}function wu(n,t){if("string"==typeof n)if(isNaN(n)){if(n=t.weekdaysParse(n),"number"!=typeof n)return null}else n=parseInt(n,10);return n}function bu(n,t,i,r,u){return u.relativeTime(t||1,!!i,n,r)}function ku(n,i,r){var u=t.duration(n).abs(),c=k(u.as("s")),e=k(u.as("m")),o=k(u.as("h")),s=k(u.as("d")),h=k(u.as("M")),l=k(u.as("y")),f=c<y.s&&["s",c]||1===e&&["m"]||e<y.m&&["mm",e]||1===o&&["h"]||o<y.h&&["hh",o]||1===s&&["d"]||s<y.d&&["dd",s]||1===h&&["M"]||h<y.M&&["MM",h]||1===l&&["y"]||["yy",l];return f[2]=i,f[3]=+n>0,f[4]=r,bu.apply({},f)}function b(n,i,r){var f,e=r-i,u=r-n.day();return u>e&&(u-=7),e-7>u&&(u+=7),f=t(n).add(u,"d"),{week:Math.ceil(f.dayOfYear()/7),year:f.year()}}function du(n,t,i,r,u){var o,e,f=yt(n,0,1).getUTCDay();return f=0===f?7:f,i=null!=i?i:u,o=u-f+(f>r?7:0)-(u>f?7:0),e=7*(t-1)+(i-u)+o+1,{year:e>0?n:n-1,dayOfYear:e>0?e:li(n-1)+e}}function gi(i){var u,r=i._i,f=i._f;return i._locale=i._locale||t.localeData(i._l),null===r||f===n&&""===r?t.invalid({nullInput:!0}):("string"==typeof r&&(i._i=r=i._locale.preparse(r)),t.isMoment(r)?new rt(r,!0):(f?ut(f)?lu(i):vt(i):yu(i),u=new rt(i),u._nextDay&&(u.add(1,"d"),u._nextDay=n),u))}function nr(n,i){var u,r;if(1===i.length&&ut(i[0])&&(i=i[0]),!i.length)return t();for(u=i[0],r=1;r<i.length;++r)i[r][n](u)&&(u=i[r]);return u}function tr(n,t){var i;return"string"==typeof t&&(t=n.localeData().monthsParse(t),"number"!=typeof t)?n:(i=Math.min(n.date(),ht(n.year(),t)),n._d["set"+(n._isUTC?"UTC":"")+"Month"](t,i),n)}function pt(n,t){return n._d["get"+(n._isUTC?"UTC":"")+t]()}function ir(n,t,i){return"Month"===t?tr(n,i):n._d["set"+(n._isUTC?"UTC":"")+t](i)}function c(n,i){return function(r){return null!=r?(ir(this,n,r),t.updateOffset(this,i),this):pt(this,n)}}function rr(n){return 400*n/146097}function ur(n){return 146097*n/400}function gu(n){t.duration.fn[n]=function(){return this._data[n]}}function fr(n){"undefined"==typeof ender&&(er=wt.moment,wt.moment=n?o("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",t):t)}for(var t,er,u,wt="undefined"!=typeof global?global:this,k=Math.round,nf=Object.prototype.hasOwnProperty,l=0,a=1,h=2,f=3,d=4,g=5,nt=6,tt={},ft=[],or="undefined"!=typeof module&&module&&module.exports,tf=/^\/?Date\((\-?\d+)/i,rf=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,uf=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,sr=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,et=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,hr=/\d\d?/,ff=/\d{1,3}/,ef=/\d{1,4}/,of=/[+\-]?\d{1,6}/,sf=/\d+/,hf=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,bt=/Z|[\+\-]\d\d:?\d\d/gi,cf=/T/i,lf=/[\+\-]?\d+/,af=/[\+\-]?\d+(\.\d{1,3})?/,cr=/\d/,lr=/\d\d/,ar=/\d{3}/,vf=/\d{4}/,yf=/[+-]?\d{6}/,pf=/[+-]?\d+/,wf=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,kt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],dt=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],bf=/([\+\-]|\d\d)/gi,vr=("Date|Hours|Minutes|Seconds|Milliseconds".split("|"),{Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6}),kf={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},df={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},gt={},y={s:45,m:45,h:22,d:26,M:11},yr="DDD w W M D d".split(" "),pr="M D H h m s w W".split(" "),v={M:function(){return this.month()+1},MMM:function(n){return this.localeData().monthsShort(this,n)},MMMM:function(n){return this.localeData().months(this,n)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(n){return this.localeData().weekdaysMin(this,n)},ddd:function(n){return this.localeData().weekdaysShort(this,n)},dddd:function(n){return this.localeData().weekdays(this,n)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return r(this.year()%100,2)},YYYY:function(){return r(this.year(),4)},YYYYY:function(){return r(this.year(),5)},YYYYYY:function(){var n=this.year(),t=n>=0?"+":"-";return t+r(Math.abs(n),6)},gg:function(){return r(this.weekYear()%100,2)},gggg:function(){return r(this.weekYear(),4)},ggggg:function(){return r(this.weekYear(),5)},GG:function(){return r(this.isoWeekYear()%100,2)},GGGG:function(){return r(this.isoWeekYear(),4)},GGGGG:function(){return r(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return i(this.milliseconds()/100)},SS:function(){return r(i(this.milliseconds()/10),2)},SSS:function(){return r(this.milliseconds(),3)},SSSS:function(){return r(this.milliseconds(),3)},Z:function(){var n=-this.zone(),t="+";return 0>n&&(n=-n,t="-"),t+r(i(n/60),2)+":"+r(i(n)%60,2)},ZZ:function(){var n=-this.zone(),t="+";return 0>n&&(n=-n,t="-"),t+r(i(n/60),2)+r(i(n)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},x:function(){return this.valueOf()},X:function(){return this.unix()},Q:function(){return this.quarter()}},wr={},br=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];yr.length;)u=yr.pop(),v[u+"o"]=dr(v[u],u);for(;pr.length;)u=pr.pop(),v[u+u]=ti(v[u],2);for(v.DDDD=ti(v.DDD,3),w(ii.prototype,{set:function(n){var t,i;for(i in n)t=n[i],"function"==typeof t?this[i]=t:this["_"+i]=t;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(n){return this._months[n.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(n){return this._monthsShort[n.month()]},monthsParse:function(n,i,r){var u,f,e;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),u=0;12>u;u++)if((f=t.utc([2e3,u]),r&&!this._longMonthsParse[u]&&(this._longMonthsParse[u]=new RegExp("^"+this.months(f,"").replace(".","")+"$","i"),this._shortMonthsParse[u]=new RegExp("^"+this.monthsShort(f,"").replace(".","")+"$","i")),r||this._monthsParse[u]||(e="^"+this.months(f,"")+"|^"+this.monthsShort(f,""),this._monthsParse[u]=new RegExp(e.replace(".",""),"i")),r&&"MMMM"===i&&this._longMonthsParse[u].test(n))||r&&"MMM"===i&&this._shortMonthsParse[u].test(n)||!r&&this._monthsParse[u].test(n))return u},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(n){return this._weekdays[n.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(n){return this._weekdaysShort[n.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(n){return this._weekdaysMin[n.day()]},weekdaysParse:function(n){var i,r,u;for(this._weekdaysParse||(this._weekdaysParse=[]),i=0;7>i;i++)if(this._weekdaysParse[i]||(r=t([2e3,1]).day(i),u="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[i]=new RegExp(u.replace(".",""),"i")),this._weekdaysParse[i].test(n))return i},_longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(n){var t=this._longDateFormat[n];return!t&&this._longDateFormat[n.toUpperCase()]&&(t=this._longDateFormat[n.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(n){return n.slice(1)}),this._longDateFormat[n]=t),t},isPM:function(n){return"p"===(n+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(n,t,i){return n>11?i?"pm":"PM":i?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(n,t,i){var r=this._calendar[n];return"function"==typeof r?r.apply(t,[i]):r},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(n,t,i,r){var u=this._relativeTime[i];return"function"==typeof u?u(n,t,i,r):u.replace(/%d/i,n)},pastFuture:function(n,t){var i=this._relativeTime[n>0?"future":"past"];return"function"==typeof i?i(t):i.replace(/%s/i,t)},ordinal:function(n){return this._ordinal.replace("%d",n)},_ordinal:"%d",_ordinalParse:/\d{1,2}/,preparse:function(n){return n},postformat:function(n){return n},week:function(n){return b(n,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),t=function(t,i,r,u){var f;return"boolean"==typeof r&&(u=r,r=n),f={},f._isAMomentObject=!0,f._i=t,f._f=i,f._l=r,f._strict=u,f._isUTC=!1,f._pf=ot(),gi(f)},t.suppressDeprecationWarnings=!1,t.createFromInputFallback=o("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(n){n._d=new Date(n._i+(n._useUTC?" UTC":""))}),t.min=function(){var n=[].slice.call(arguments,0);return nr("isBefore",n)},t.max=function(){var n=[].slice.call(arguments,0);return nr("isAfter",n)},t.utc=function(t,i,r,u){var f;return"boolean"==typeof r&&(u=r,r=n),f={},f._isAMomentObject=!0,f._useUTC=!0,f._isUTC=!0,f._l=r,f._i=t,f._f=i,f._strict=u,f._pf=ot(),gi(f).utc()},t.unix=function(n){return t(1e3*n)},t.duration=function(n,r){var o,c,s,l,e=n,u=null;return t.isDuration(n)?e={ms:n._milliseconds,d:n._days,M:n._months}:"number"==typeof n?(e={},r?e[r]=n:e.milliseconds=n):(u=rf.exec(n))?(o="-"===u[1]?-1:1,e={y:0,d:i(u[h])*o,h:i(u[f])*o,m:i(u[d])*o,s:i(u[g])*o,ms:i(u[nt])*o}):(u=uf.exec(n))?(o="-"===u[1]?-1:1,s=function(n){var t=n&&parseFloat(n.replace(",","."));return(isNaN(t)?0:t)*o},e={y:s(u[2]),M:s(u[3]),d:s(u[4]),h:s(u[5]),m:s(u[6]),s:s(u[7]),w:s(u[8])}):"object"==typeof e&&("from"in e||"to"in e)&&(l=gr(t(e.from),t(e.to)),e={},e.ms=l.milliseconds,e.M=l.months),c=new st(e),t.isDuration(n)&&p(n,"_locale")&&(c._locale=n._locale),c},t.version="2.8.4",t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",t.ISO_8601=function(){},t.momentProperties=ft,t.updateOffset=function(){},t.relativeTimeThreshold=function(t,i){return y[t]===n?!1:i===n?y[t]:(y[t]=i,!0)},t.lang=o("moment.lang is deprecated. Use moment.locale instead.",function(n,i){return t.locale(n,i)}),t.locale=function(n,i){var r;return n&&(r="undefined"!=typeof i?t.defineLocale(n,i):t.localeData(n),r&&(t.duration._locale=t._locale=r)),t._locale._abbr},t.defineLocale=function(n,i){return null!==i?(i.abbr=n,tt[n]||(tt[n]=new ii),tt[n].set(i),t.locale(n),tt[n]):(delete tt[n],null)},t.langData=o("moment.langData is deprecated. Use moment.localeData instead.",function(n){return t.localeData(n)}),t.localeData=function(n){var i;if(n&&n._locale&&n._locale._abbr&&(n=n._locale._abbr),!n)return t._locale;if(!ut(n)){if(i=wi(n))return i;n=[n]}return tu(n)},t.isMoment=function(n){return n instanceof rt||null!=n&&p(n,"_isAMomentObject")},t.isDuration=function(n){return n instanceof st},u=br.length-1;u>=0;--u)nu(br[u]);t.normalizeUnits=function(n){return e(n)};t.invalid=function(n){var i=t.utc(NaN);return null!=n?w(i._pf,n):i._pf.userInvalidated=!0,i};t.parseZone=function(){return t.apply(null,arguments).parseZone()};t.parseTwoDigitYear=function(n){return i(n)+(i(n)>68?1900:2e3)};w(t.fn=rt.prototype,{clone:function(){return t(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var n=t(this).utc();return 0<n.year()&&n.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():lt(n,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):lt(n,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var n=this;return[n.year(),n.month(),n.date(),n.hours(),n.minutes(),n.seconds(),n.milliseconds()]},isValid:function(){return yi(this)},isDSTShifted:function(){return this._a?this.isValid()&&si(this._a,(this._isUTC?t.utc(this._a):t(this._a)).toArray())>0:!1},parsingFlags:function(){return w({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(n){return this.zone(0,n)},local:function(n){return this._isUTC&&(this.zone(0,n),this._isUTC=!1,n&&this.add(this._dateTzOffset(),"m")),this},format:function(n){var i=lt(this,n||t.defaultFormat);return this.localeData().postformat(i)},add:fi(1,"add"),subtract:fi(-1,"subtract"),diff:function(n,i,r){var u,o,h,f=ct(n,this),c=6e4*(this.zone()-f.zone());return i=e(i),"year"===i||"month"===i?(u=432e5*(this.daysInMonth()+f.daysInMonth()),o=12*(this.year()-f.year())+(this.month()-f.month()),h=this-t(this).startOf("month")-(f-t(f).startOf("month")),h-=6e4*(this.zone()-t(this).startOf("month").zone()-(f.zone()-t(f).startOf("month").zone())),o+=h/u,"year"===i&&(o/=12)):(u=this-f,o="second"===i?u/1e3:"minute"===i?u/6e4:"hour"===i?u/36e5:"day"===i?(u-c)/864e5:"week"===i?(u-c)/6048e5:u),r?o:s(o)},from:function(n,i){return t.duration({to:this,from:n}).locale(this.locale()).humanize(!i)},fromNow:function(n){return this.from(t(),n)},calendar:function(n){var r=n||t(),u=ct(r,this).startOf("day"),i=this.diff(u,"days",!0),f=-6>i?"sameElse":-1>i?"lastWeek":0>i?"lastDay":1>i?"sameDay":2>i?"nextDay":7>i?"nextWeek":"sameElse";return this.format(this.localeData().calendar(f,this,t(r)))},isLeapYear:function(){return ai(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(n){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=n?(n=wu(n,this.localeData()),this.add(n-t,"d")):t},month:c("Month",!0),startOf:function(n){switch(n=e(n)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===n?this.weekday(0):"isoWeek"===n&&this.isoWeekday(1),"quarter"===n&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(t){return t=e(t),t===n||"millisecond"===t?this:this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms")},isAfter:function(n,i){var r;return i=e("undefined"!=typeof i?i:"millisecond"),"millisecond"===i?(n=t.isMoment(n)?n:t(n),+this>+n):(r=t.isMoment(n)?+n:+t(n),r<+this.clone().startOf(i))},isBefore:function(n,i){var r;return i=e("undefined"!=typeof i?i:"millisecond"),"millisecond"===i?(n=t.isMoment(n)?n:t(n),+n>+this):(r=t.isMoment(n)?+n:+t(n),+this.clone().endOf(i)<r)},isSame:function(n,i){var r;return i=e(i||"millisecond"),"millisecond"===i?(n=t.isMoment(n)?n:t(n),+this==+n):(r=+t(n),+this.clone().startOf(i)<=r&&r<=+this.clone().endOf(i))},min:o("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(n){return n=t.apply(null,arguments),this>n?this:n}),max:o("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(n){return n=t.apply(null,arguments),n>this?this:n}),zone:function(n,i){var r,u=this._offset||0;return null==n?this._isUTC?u:this._dateTzOffset():("string"==typeof n&&(n=ki(n)),Math.abs(n)<16&&(n=60*n),!this._isUTC&&i&&(r=this._dateTzOffset()),this._offset=n,this._isUTC=!0,null!=r&&this.subtract(r,"m"),u!==n&&(!i||this._changeInProgress?ei(this,t.duration(u-n,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.zone(this._tzm):"string"==typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(n){return n=n?t(n).zone():0,(this.zone()-n)%60==0},daysInMonth:function(){return ht(this.year(),this.month())},dayOfYear:function(n){var i=k((t(this).startOf("day")-t(this).startOf("year"))/864e5)+1;return null==n?i:this.add(n-i,"d")},quarter:function(n){return null==n?Math.ceil((this.month()+1)/3):this.month(3*(n-1)+this.month()%3)},weekYear:function(n){var t=b(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==n?t:this.add(n-t,"y")},isoWeekYear:function(n){var t=b(this,1,4).year;return null==n?t:this.add(n-t,"y")},week:function(n){var t=this.localeData().week(this);return null==n?t:this.add(7*(n-t),"d")},isoWeek:function(n){var t=b(this,1,4).week;return null==n?t:this.add(7*(n-t),"d")},weekday:function(n){var t=(this.day()+7-this.localeData()._week.dow)%7;return null==n?t:this.add(n-t,"d")},isoWeekday:function(n){return null==n?this.day()||7:this.day(this.day()%7?n:n-7)},isoWeeksInYear:function(){return ci(this.year(),1,4)},weeksInYear:function(){var n=this.localeData()._week;return ci(this.year(),n.dow,n.doy)},get:function(n){return n=e(n),this[n]()},set:function(n,t){return n=e(n),"function"==typeof this[n]&&this[n](t),this},locale:function(i){var r;return i===n?this._locale._abbr:(r=t.localeData(i),null!=r&&(this._locale=r),this)},lang:o("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===n?this.localeData():this.locale(t)}),localeData:function(){return this._locale},_dateTzOffset:function(){return 15*Math.round(this._d.getTimezoneOffset()/15)}});t.fn.millisecond=t.fn.milliseconds=c("Milliseconds",!1);t.fn.second=t.fn.seconds=c("Seconds",!1);t.fn.minute=t.fn.minutes=c("Minutes",!1);t.fn.hour=t.fn.hours=c("Hours",!0);t.fn.date=c("Date",!0);t.fn.dates=o("dates accessor is deprecated. Use date instead.",c("Date",!0));t.fn.year=c("FullYear",!0);t.fn.years=o("years accessor is deprecated. Use year instead.",c("FullYear",!0));t.fn.days=t.fn.day;t.fn.months=t.fn.month;t.fn.weeks=t.fn.week;t.fn.isoWeeks=t.fn.isoWeek;t.fn.quarters=t.fn.quarter;t.fn.toJSON=t.fn.toISOString;w(t.duration.fn=st.prototype,{_bubble:function(){var u,f,e,o=this._milliseconds,t=this._days,i=this._months,n=this._data,r=0;n.milliseconds=o%1e3;u=s(o/1e3);n.seconds=u%60;f=s(u/60);n.minutes=f%60;e=s(f/60);n.hours=e%24;t+=s(e/24);r=s(rr(t));t-=s(ur(r));i+=s(t/30);t%=30;r+=s(i/12);i%=12;n.days=t;n.months=i;n.years=r},abs:function(){return this._milliseconds=Math.abs(this._milliseconds),this._days=Math.abs(this._days),this._months=Math.abs(this._months),this._data.milliseconds=Math.abs(this._data.milliseconds),this._data.seconds=Math.abs(this._data.seconds),this._data.minutes=Math.abs(this._data.minutes),this._data.hours=Math.abs(this._data.hours),this._data.months=Math.abs(this._data.months),this._data.years=Math.abs(this._data.years),this},weeks:function(){return s(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*i(this._months/12)},humanize:function(n){var t=ku(this,!n,this.localeData());return n&&(t=this.localeData().pastFuture(+this,t)),this.localeData().postformat(t)},add:function(n,i){var r=t.duration(n,i);return this._milliseconds+=r._milliseconds,this._days+=r._days,this._months+=r._months,this._bubble(),this},subtract:function(n,i){var r=t.duration(n,i);return this._milliseconds-=r._milliseconds,this._days-=r._days,this._months-=r._months,this._bubble(),this},get:function(n){return n=e(n),this[n.toLowerCase()+"s"]()},as:function(n){var t,i;if(n=e(n),"month"===n||"year"===n)return t=this._days+this._milliseconds/864e5,i=this._months+12*rr(t),"month"===n?i:i/12;switch(t=this._days+Math.round(ur(this._months/12)),n){case"week":return t/7+this._milliseconds/6048e5;case"day":return t+this._milliseconds/864e5;case"hour":return 24*t+this._milliseconds/36e5;case"minute":return 1440*t+this._milliseconds/6e4;case"second":return 86400*t+this._milliseconds/1e3;case"millisecond":return Math.floor(864e5*t)+this._milliseconds;default:throw new Error("Unknown unit "+n);}},lang:t.fn.lang,locale:t.fn.locale,toIsoString:o("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",function(){return this.toISOString()}),toISOString:function(){var r=Math.abs(this.years()),u=Math.abs(this.months()),f=Math.abs(this.days()),n=Math.abs(this.hours()),t=Math.abs(this.minutes()),i=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(r?r+"Y":"")+(u?u+"M":"")+(f?f+"D":"")+(n||t||i?"T":"")+(n?n+"H":"")+(t?t+"M":"")+(i?i+"S":""):"P0D"},localeData:function(){return this._locale}});t.duration.fn.toString=t.duration.fn.toISOString;for(u in vr)p(vr,u)&&gu(u.toLowerCase());t.duration.fn.asMilliseconds=function(){return this.as("ms")};t.duration.fn.asSeconds=function(){return this.as("s")};t.duration.fn.asMinutes=function(){return this.as("m")};t.duration.fn.asHours=function(){return this.as("h")};t.duration.fn.asDays=function(){return this.as("d")};t.duration.fn.asWeeks=function(){return this.as("weeks")};t.duration.fn.asMonths=function(){return this.as("M")};t.duration.fn.asYears=function(){return this.as("y")};t.locale("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(n){var t=n%10,r=1===i(n%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return n+r}});or?module.exports=t:"function"==typeof define&&define.amd?(define("moment",function(n,i,r){return r.config&&r.config()&&r.config().noGlobal===!0&&(wt.moment=er),t}),fr(!0)):fr()}.call(this),function(n){typeof define=="function"&&define.amd?define(["jquery","moment"],n):n(jQuery,moment)}(function(n,t){function kr(n,t){return t.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"t")}function dr(n,t){var i=t.longDateFormat("L");return i=i.replace(/^Y+[^\w\s]*|[^\w\s]*Y+$/g,""),n.isRTL?i+=" ddd":i="ddd "+i,i}function ri(n){w(b,n)}function w(t){function r(i,r){n.isPlainObject(r)&&n.isPlainObject(t[i])&&!ui(i)?t[i]=w({},t[i],r):r!==undefined&&(t[i]=r)}for(var i=1;i<arguments.length;i++)n.each(arguments[i],r);return t}function ui(n){return/(Time|Duration)$/.test(n)}function nu(r,f){function yt(n){var i=t.localeData||t.langData;return i.call(t,n)||i.call(t,"en")}function kt(n){p?nt()&&(lt(),y(n)):dt()}function dt(){bt=o.theme?"ui":"fc";r.addClass("fc");o.isRTL?r.addClass("fc-rtl"):r.addClass("fc-ltr");o.theme?r.addClass("ui-widget"):r.addClass("fc-unthemed");p=n("<div class='fc-view-container'/>").prependTo(r);v=new tu(e,o);k=v.render();k&&r.prepend(k);ot(o.defaultView);o.handleWindowResize&&(et=gi(ni,o.windowResizeDelay),n(window).resize(et))}function gt(){s&&s.destroy();v.destroy();p.remove();r.removeClass("fc fc-ltr fc-rtl fc-unthemed ui-widget");n(window).unbind("resize",et)}function nt(){return r.is(":visible")}function ot(n){y(0,n)}function y(t,i){g++;s&&i&&s.name!==i&&(v.deactivateButton(s.name),rt(),s.start&&s.destroy(),s.el.remove(),s=null);!s&&i&&(s=new l[i](e),s.el=n("<div class='fc-view fc-"+i+"-view' />").appendTo(p),v.activateButton(i));s&&(t&&(h=s.incrementDate(h,t)),s.start&&!t&&h.isWithin(s.intervalStart,s.intervalEnd)||nt()&&(rt(),s.start&&s.destroy(),s.render(h),ut(),ei(),oi(),ri()));ut();g--}function ct(n){if(nt())return n&&at(),g++,s.updateSize(!0),g--,!0}function lt(){nt()&&at()}function at(){d=typeof o.contentHeight=="number"?o.contentHeight:typeof o.height=="number"?o.height-(k?k.outerHeight(!0):0):Math.round(p.width()/Math.max(o.aspectRatio,.5))}function ni(n){!g&&n.target===window&&s.start&&ct(!0)&&s.trigger("windowResize",st)}function ti(){ii();vt()}function it(){nt()&&(rt(),s.destroyEvents(),s.renderEvents(ht),ut())}function ii(){rt();s.destroyEvents();ut()}function ri(){!o.lazyFetching||pt(s.start,s.end)?vt():it()}function vt(){wt(s.start,s.end)}function ui(n){ht=n;it()}function fi(){it()}function ei(){v.updateTitle(s.title)}function oi(){var n=e.getNow();n.isWithin(s.intervalStart,s.intervalEnd)?v.disableButton("today"):v.enableButton("today")}function si(n,t){n=e.moment(n);t=t?e.moment(t):n.hasTime()?n.clone().add(e.defaultTimedEventDuration):n.clone().add(e.defaultAllDayEventDuration);s.select(n,t)}function hi(){s&&s.unselect()}function ci(){y(-1)}function li(){y(1)}function ai(){h.add(-1,"years");y()}function vi(){h.add(1,"years");y()}function yi(){h=e.getNow();y()}function pi(n){h=e.moment(n);y()}function wi(n){h.add(t.duration(n));y()}function bi(n,t){var r,i;t&&l[t]!==undefined||(t=t||"day",r=v.getViewsWithButtons().join(" "),i=r.match(new RegExp("\\w+"+ki(t))),i||(i=r.match(/\w+Day/)),t=i?i[0]:"agendaDay");h=n;ot(t)}function di(){return h.clone()}function rt(){p.css({width:"100%",height:p.height(),overflow:"hidden"})}function ut(){p.css({width:"",height:"",overflow:""})}function nr(){return e}function tr(){return s}function ir(n,t){if(t===undefined)return o[n];(n=="height"||n=="contentHeight"||n=="aspectRatio")&&(o[n]=t,ct(!0))}function ur(n,t){if(o[n])return o[n].apply(t||st,Array.prototype.slice.call(arguments,2))}var e=this,o,tt,c,ft;f=f||{};o=w({},b,f);tt=o.lang in a?a[o.lang]:a[b.lang];tt&&(o=w({},b,tt,f));o.isRTL&&(o=w({},b,gr,tt||{},f));e.options=o;e.render=kt;e.destroy=gt;e.refetchEvents=ti;e.reportEvents=ui;e.reportEventChange=fi;e.rerenderEvents=it;e.changeView=ot;e.select=si;e.unselect=hi;e.prev=ci;e.next=li;e.prevYear=ai;e.nextYear=vi;e.today=yi;e.gotoDate=pi;e.incrementDate=wi;e.zoomTo=bi;e.getDate=di;e.getCalendar=nr;e.getView=tr;e.option=ir;e.trigger=ur;c=u(yt(o.lang));o.monthNames&&(c._months=o.monthNames);o.monthNamesShort&&(c._monthsShort=o.monthNamesShort);o.dayNames&&(c._weekdays=o.dayNames);o.dayNamesShort&&(c._weekdaysShort=o.dayNamesShort);o.firstDay!=null&&(ft=u(c._week),ft.dow=o.firstDay,c._week=ft);e.defaultAllDayEventDuration=t.duration(o.defaultAllDayEventDuration);e.defaultTimedEventDuration=t.duration(o.defaultTimedEventDuration);e.moment=function(){var n;return o.timezone==="local"?(n=i.moment.apply(null,arguments),n.hasTime()&&n.local()):n=o.timezone==="UTC"?i.moment.utc.apply(null,arguments):i.moment.parseZone.apply(null,arguments),"_locale"in n?n._locale=c:n._lang=c,n};e.getIsAmbigTimezone=function(){return o.timezone!=="local"&&o.timezone!=="UTC"};e.rezoneDate=function(n){return e.moment(n.toArray())};e.getNow=function(){var n=o.now;return typeof n=="function"&&(n=n()),e.moment(n)};e.calculateWeekNumber=function(n){var t=o.weekNumberCalculation;return typeof t=="function"?t(n):t==="local"?n.week():t.toUpperCase()==="ISO"?n.isoWeek():void 0};e.getEventEnd=function(n){return n.end?n.end.clone():e.getDefaultEventEnd(n.allDay,n.start)};e.getDefaultEventEnd=function(n,t){var i=t.clone();return n?i.stripTime().add(e.defaultAllDayEventDuration):i.add(e.defaultTimedEventDuration),e.getIsAmbigTimezone()&&i.stripZone(),i};e.formatRange=function(n,t,i){return typeof i=="function"&&(i=i.call(e,o,c)),fr(n,t,i,null,o.isRTL)};e.formatDate=function(n,t){return typeof t=="function"&&(t=t.call(e,o,c)),rr(n,t)};iu.call(e,o);var pt=e.isFetchNeeded,wt=e.fetchEvents,st=r[0],v,k,p,bt,s,d,et,g=0,h,ht=[];h=o.defaultDate!=null?e.moment(o.defaultDate):e.getNow();e.getSuggestedViewHeight=function(){return d===undefined&&lt(),d};e.isHeightAuto=function(){return o.contentHeight==="auto"||o.height==="auto"}}function tu(t,i){function h(){var t=i.header;return u=i.theme?"ui":"fc",t?f=n("<div class='fc-toolbar'/>").append(s("left")).append(s("right")).append(s("center")).append('<div class="fc-clear"/>'):void 0}function c(){f.remove()}function s(f){var e=n('<div class="fc-'+f+'"/>'),s=i.header[f];return s&&n.each(s.split(" "),function(){var f=n(),h=!0,s;n.each(this.split(","),function(e,s){var a,v,y,w,p,b,k,c;s=="title"?(f=f.add(n("<h2>&nbsp;<\/h2>")),h=!1):(t[s]?a=function(){t[s]()}:l[s]&&(a=function(){t.changeView(s)},o.push(s)),a&&(v=d(i.themeButtonIcons,s),y=d(i.buttonIcons,s),w=d(i.defaultButtonText,s),p=d(i.buttonText,s),b=p?r(p):v&&i.theme?"<span class='ui-icon ui-icon-"+v+"'><\/span>":y&&!i.theme?"<span class='fc-icon fc-icon-"+y+"'><\/span>":r(w||s),k=["fc-"+s+"-button",u+"-button",u+"-state-default"],c=n('<button type="button" class="'+k.join(" ")+'">'+b+"<\/button>").click(function(){c.hasClass(u+"-state-disabled")||(a(),(c.hasClass(u+"-state-active")||c.hasClass(u+"-state-disabled"))&&c.removeClass(u+"-state-hover"))}).mousedown(function(){c.not("."+u+"-state-active").not("."+u+"-state-disabled").addClass(u+"-state-down")}).mouseup(function(){c.removeClass(u+"-state-down")}).hover(function(){c.not("."+u+"-state-active").not("."+u+"-state-disabled").addClass(u+"-state-hover")},function(){c.removeClass(u+"-state-hover").removeClass(u+"-state-down")}),f=f.add(c)))});h&&f.first().addClass(u+"-corner-left").end().last().addClass(u+"-corner-right").end();f.length>1?(s=n("<div/>"),h&&s.addClass("fc-button-group"),s.append(f),e.append(s)):e.append(f)}),e}function a(n){f.find("h2").text(n)}function v(n){f.find(".fc-"+n+"-button").addClass(u+"-state-active")}function y(n){f.find(".fc-"+n+"-button").removeClass(u+"-state-active")}function p(n){f.find(".fc-"+n+"-button").attr("disabled","disabled").addClass(u+"-state-disabled")}function w(n){f.find(".fc-"+n+"-button").removeAttr("disabled").removeClass(u+"-state-disabled")}function b(){return o}var e=this,f,o,u;e.render=h;e.destroy=c;e.updateTitle=a;e.activateButton=v;e.deactivateButton=y;e.disableButton=p;e.enableButton=w;e.getViewsWithButtons=b;f=n();o=[]}function iu(r){function bt(n,t){return!o||n.clone().stripZone()<o.clone().stripZone()||t.clone().stripZone()>s.clone().stripZone()}function kt(n,t){var u,r,i;for(o=n,s=t,f=[],u=++p,r=e.length,v=r,i=0;i<r;i++)tt(e[i],u)}function tt(t,i){rt(t,function(r){var s=n.isArray(t.events),u,e,o;if(i==p){if(r)for(u=0;u<r.length;u++)e=r[u],o=s?e:h(e,t),o&&f.push.apply(f,a(o));v--;v||l(f)}})}function rt(t,f){for(var v=i.sourceFetchers,l,e,y,h=0;h<v.length;h++){if(l=v[h].call(u,t,o.clone(),s.clone(),r.timezone,f),l===!0)return;if(typeof l=="object"){rt(l,f);return}}if(e=t.events,e)n.isFunction(e)?(st(),e.call(u,o.clone(),s.clone(),r.timezone,function(n){f(n);ht()})):n.isArray(e)?f(e):f();else if(y=t.url,y){var b=t.success,k=t.error,d=t.complete,g=n.isFunction(t.data)?t.data():t.data;var a=n.extend({},g||{}),p=c(t.startParam,r.startParam),w=c(t.endParam,r.endParam),nt=c(t.timezoneParam,r.timezoneParam);p&&(a[p]=o.format());w&&(a[w]=s.format());r.timezone&&r.timezone!="local"&&(a[nt]=r.timezone);st();n.ajax(n.extend({},fi,t,{data:a,success:function(t){t=t||[];var i=it(b,this,arguments);n.isArray(i)&&(t=i);f(t)},error:function(){it(k,this,arguments);f()},complete:function(){it(d,this,arguments);ht()}}))}else f()}function dt(n){var t=ut(n);t&&(e.push(t),v++,tt(t,p))}function ut(t){var e=i.sourceNormalizers,r,f;if(n.isFunction(t)||n.isArray(t)?r={events:t}:typeof t=="string"?r={url:t}:typeof t=="object"&&(r=n.extend({},t)),r){for(r.className?typeof r.className=="string"&&(r.className=r.className.split(/\s+/)):r.className=[],n.isArray(r.events)&&(r.origArray=r.events,r.events=n.map(r.events,function(n){return h(n,r)})),f=0;f<e.length;f++)e[f].call(u,r);return r}}function gt(t){e=n.grep(e,function(n){return!et(n,t)});f=n.grep(f,function(n){return!et(n.source,t)});l(f)}function et(n,t){return n&&t&&ot(n)==ot(t)}function ot(n){return(typeof n=="object"?n.origArray||n.googleCalendarId||n.url||n.events:null)||n}function ni(n){n.start=u.moment(n.start);n.end&&(n.end=u.moment(n.end));lt(n);ti(n);l(f)}function ti(n){for(var i,r,u,t=0;t<f.length;t++)if(i=f[t],i._id==n._id&&i!==n)for(r=0;r<w.length;r++)u=w[r],n[u]!==undefined&&(i[u]=n[u])}function ii(n,t){var e=h(n),r,u,i;if(e){for(r=a(e),u=0;u<r.length;u++)i=r[u],i.source||(t&&(y.events.push(i),i.source=y),f.push(i));return l(f),r}return[]}function ri(t){var r,i;for(t==null?t=function(){return!0}:n.isFunction(t)||(r=t+"",t=function(n){return n._id==r}),f=n.grep(f,t,!0),i=0;i<e.length;i++)n.isArray(e[i].events)&&(e[i].events=n.grep(e[i].events,t,!0));l(f)}function b(t){return n.isFunction(t)?n.grep(f,t):t!=null?(t+="",n.grep(f,function(n){return n._id==t})):f}function st(){nt++||k("loading",null,!0,d())}function ht(){--nt||k("loading",null,!1,d())}function h(i,f){var s={},o,e,h,l;if(r.eventDataTransform&&(i=r.eventDataTransform(i)),f&&f.eventDataTransform&&(i=f.eventDataTransform(i)),n.extend(s,i),f&&(s.source=f),s._id=i._id||(i.id===undefined?"_fc"+ei++:i.id+""),s.className=i.className?typeof i.className=="string"?i.className.split(/\s+/):i.className:[],o=i.start||i.date,e=i.end,bi(o)&&(o=t.duration(o)),bi(e)&&(e=t.duration(e)),i.dow||t.isDuration(o)||t.isDuration(e))s.start=o?t.duration(o):null,s.end=e?t.duration(e):null,s._recurring=!0;else{if(o&&(o=u.moment(o),!o.isValid()))return!1;e&&(e=u.moment(e),e.isValid()||(e=null));h=i.allDay;h===undefined&&(l=c(f?f.allDayDefault:undefined,r.allDayDefault),h=l!==undefined?l:!o.hasTime()&&(!e||!e.hasTime()));ct(o,e,h,s)}return s}function ct(n,t,i,f){i?(n.hasTime()&&n.stripTime(),t&&t.hasTime()&&t.stripTime()):(n.hasTime()||(n=u.rezoneDate(n)),t&&!t.hasTime()&&(t=u.rezoneDate(t)));t&&t<=n&&(t=null);f.allDay=i;f.start=n;f.end=t||null;r.forceEventDuration&&!f.end&&(f.end=wt(f));ft(f)}function a(t,i,r){var a=[],f,v,e,u,h,c,l,y,p;if(i=i||o,r=r||s,t)if(t._recurring){if(v=t.dow)for(f={},e=0;e<v.length;e++)f[v[e]]=!0;for(u=i.clone().stripTime();u.isBefore(r);)(!f||f[u.day()])&&(h=t.start,c=t.end,l=u.clone(),y=null,h&&(l=l.time(h)),c&&(y=u.clone().time(c)),p=n.extend({},t),ct(l,y,!h&&!c,p),a.push(p)),u.add(1,"days")}else a.push(t);return a}function lt(n,t,i){var e=n._allDay,r=n._start,l=n._end,h=!1,f,o,s,c;return t||i||(t=n.start,i=n.end),f=n.allDay!=e?n.allDay:!(t||i).hasTime(),f&&(t&&(t=t.clone().stripTime()),i&&(i=i.clone().stripTime())),t&&(o=f?g(t,r.clone().stripTime()):g(t,r)),f!=e?h=!0:i&&(s=g(i||u.getDefaultEventEnd(f,t||r),t||r).subtract(g(l||u.getDefaultEventEnd(e,r),r))),c=ui(b(n._id),h,f,o,s),{dateDelta:o,durationDelta:s,undo:c}}function ui(t,i,f,e,o){var h=u.getIsAmbigTimezone(),s=[];return n.each(t,function(n,t){var y=t._allDay,p=t._start,a=t._end,v=f!=null?f:y,l=p.clone(),c=!i&&a?a.clone():null;v?(l.stripTime(),c&&c.stripTime()):(l.hasTime()||(l=u.rezoneDate(l)),c&&!c.hasTime()&&(c=u.rezoneDate(c)));!c&&(r.forceEventDuration||+o)&&(c=u.getDefaultEventEnd(v,l));l.add(e);c&&c.add(e).add(o);h&&(+e||+o)&&(l.stripZone(),c&&c.stripZone());t.allDay=v;t.start=l;t.end=c;ft(t);s.push(function(){t.allDay=y;t.start=p;t.end=a;ft(t)})}),function(){for(var n=0;n<s.length;n++)s[n]()}}function at(){var t=r.businessHours,f={className:"fc-nonbusiness",start:"09:00",end:"17:00",dow:[1,2,3,4,5],rendering:"inverse-background"},e=u.getView(),i;return(t&&(i=typeof t=="object"?n.extend({},f,t):f),i)?a(h(i),e.start,e.end):[]}function vt(n,t,i){var u=n.source||{},f=c(n.constraint,u.constraint,r.eventConstraint),e=c(n.overlap,u.overlap,r.eventOverlap);return pt(t,i,f,e,n)}function yt(n,t){return pt(n,t,r.selectConstraint,r.selectOverlap)}function oi(n,t,i){var r;return i&&(r=a(h(i))[0],r)?vt(r,n,t):yt(n,t)}function pt(n,t,i,r,u){var h,l,e,o,s;if(n=n.clone().stripZone(),t=t.clone().stripZone(),i!=null){for(h=si(i),l=!1,e=0;e<h.length;e++)if(hi(h[e],n,t)){l=!0;break}if(!l)return!1}for(e=0;e<f.length;e++)if((o=f[e],!u||u._id!==o._id)&&ci(o,n,t)&&(r===!1||typeof r=="function"&&!r(o,u)||u&&((s=c(o.overlap,(o.source||{}).overlap),s===!1)||typeof s=="function"&&!s(u,o))))return!1;return!0}function si(n){return n==="businessHours"?at():typeof n=="object"?a(h(n)):b(n)}function hi(n,t,i){var r=n.start.clone().stripZone(),f=u.getEventEnd(n).stripZone();return t>=r&&i<=f}function ci(n,t,i){var r=n.start.clone().stripZone(),f=u.getEventEnd(n).stripZone();return t<f&&i>r}var u=this,w;u.isFetchNeeded=bt;u.fetchEvents=kt;u.addEventSource=dt;u.removeEventSource=gt;u.updateEvent=ni;u.renderEvent=ii;u.removeEvents=ri;u.clientEvents=b;u.mutateEvent=lt;var k=u.trigger,d=u.getView,l=u.reportEvents,wt=u.getEventEnd,y={events:[]},e=[y],o,s,p=0,v=0,nt=0,f=[];n.each((r.events?[r.events]:[]).concat(r.eventSources||[]),function(n,t){var i=ut(t);i&&e.push(i)});w=["title","url","allDay","className","editable","color","backgroundColor","borderColor","textColor"];u.getBusinessHoursEvents=at;u.isEventAllowedInRange=vt;u.isSelectionAllowedInRange=yt;u.isExternalDragAllowedInRange=oi}function ft(n){n._allDay=n.allDay;n._start=n.start.clone();n._end=n.end?n.end.clone():null}function oi(n,t){t.left&&n.css({"border-left-width":1,"margin-left":t.left-1});t.right&&n.css({"border-right-width":1,"margin-right":t.right-1})}function si(n){n.css({"margin-left":"","margin-right":"","border-left-width":"","border-right-width":""})}function tt(){n("body").addClass("fc-not-allowed")}function v(){n("body").removeClass("fc-not-allowed")}function hi(t,i,r){var u=Math.floor(i/t.length),e=Math.floor(i-u*(t.length-1)),f=[],o=[],s=[],h=0;ci(t);t.each(function(i,r){var l=i===t.length-1?e:u,c=n(r).outerHeight(!0);c<l?(f.push(r),o.push(c),s.push(n(r).height())):h+=c});r&&(i-=h,u=Math.floor(i/f.length),e=Math.floor(i-u*(f.length-1)));n(f).each(function(t,i){var r=t===f.length-1?e:u,h=o[t],c=s[t],l=r-(h-c);h<r&&n(i).height(l)})}function ci(n){n.height("")}function li(t){var i=0;return t.find("> *").each(function(t,r){var u=n(r).outerWidth();u>i&&(i=u)}),i++,t.width(i),i}function ai(n,t){return(n.height(t).addClass("fc-scroller"),n[0].scrollHeight-1>n[0].clientHeight)?!0:(et(n),!1)}function et(n){n.height("").removeClass("fc-scroller")}function vi(t){var r=t.css("position"),i=t.parents().filter(function(){var t=n(this);return/(auto|scroll)/.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return r==="fixed"||!i.length?n(t[0].ownerDocument||document):i}function yi(n){var t=n.offset().left,u=t+n.width(),i=n.children(),r=i.offset().left,f=r+i.outerWidth();return{left:r-t,right:u-f}}function pi(n){return n.which==1&&!n.ctrlKey}function wi(n,t,i,r){var u,f,e,o;if(t>i&&n<r)return n>=i?(u=n.clone(),e=!0):(u=i.clone(),e=!1),t<=r?(f=t.clone(),o=!0):(f=r.clone(),o=!1),{start:u,end:f,isStart:e,isEnd:o}}function d(n,t){if(n=n||{},n[t]!==undefined)return n[t];for(var u=t.split(/(?=[A-Z])/),i=u.length-1,r;i>=0;i--)if(r=n[u[i].toLowerCase()],r!==undefined)return r;return n["default"]}function g(n,i){return t.duration({days:n.clone().stripTime().diff(i.clone().stripTime(),"days"),ms:n.time()-i.time()})}function ru(n){return Object.prototype.toString.call(n)==="[object Date]"||n instanceof Date}function bi(n){return/^\d+\:\d+(?:\:\d+\.?(?:\d{3})?)?$/.test(n)}function u(n){var t=function(){};return t.prototype=n,new t}function it(t,i,r){if(n.isFunction(t)&&(t=[t]),t){for(var f,u=0;u<t.length;u++)f=t[u].apply(i,r)||f;return f}}function c(){for(var n=0;n<arguments.length;n++)if(arguments[n]!==undefined)return arguments[n]}function r(n){return(n+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function st(n){return n.replace(/&.*?;/g,"")}function ki(n){return n.charAt(0).toUpperCase()+n.slice(1)}function di(n,t){return n-t}function gi(n,t){var i,r,u,f,e=function(){var o=+new Date-f;o<t&&o>0?i=setTimeout(e,t-o):(i=null,n.apply(u,r),i||(u=r=null))};return function(){u=this;r=arguments;f=+new Date;i||(i=setTimeout(e,t))}}function lt(i,r,u){var f=i[0],h=i.length==1&&typeof f=="string",s,o,c,e;return t.isMoment(f)?(e=t.apply(null,i),tr(f,e)):ru(f)||f===undefined?e=t.apply(null,i):(s=!1,o=!1,h?uu.test(f)?(f+="-01",i=[f],s=!0,o=!0):(c=fu.exec(f))&&(s=!c[5],o=!0):n.isArray(f)&&(o=!0),e=r?t.utc.apply(t,i):t.apply(null,i),s?(e._ambigTime=!0,e._ambigZone=!0):u&&(o?e._ambigZone=!0:h&&e.zone(f))),e._fullCalendar=!0,e}function at(n,t){for(var u=[],f=!1,e=!1,r=0;r<n.length;r++)u.push(i.moment.parseZone(n[r])),f=f||u[r]._ambigTime,e=e||u[r]._ambigZone;for(r=0;r<u.length;r++)f&&!t?u[r].stripTime():e&&u[r].stripZone();return u}function tr(n,t){n._ambigTime?t._ambigTime=!0:t._ambigTime&&(t._ambigTime=!1);n._ambigZone?t._ambigZone=!0:t._ambigZone&&(t._ambigZone=!1)}function ir(n,t){n.year(t[0]||0).month(t[1]||0).date(t[2]||0).hours(t[3]||0).minutes(t[4]||0).seconds(t[5]||0).milliseconds(t[6]||0)}function y(n,t){return s.format.call(n,t)}function rr(n,t){return ur(n,sr(t))}function ur(n,t){for(var r="",i=0;i<t.length;i++)r+=yt(n,t[i]);return r}function yt(n,t){var i,r;return typeof t=="string"?t:(i=t.token)?vt[i]?vt[i](n):y(n,i):t.maybe&&(r=ur(n,t.maybe),r.match(/[1-9]/))?r:""}function fr(n,t,r,u,f){var e;return n=i.moment.parseZone(n),t=i.moment.parseZone(t),e=(n.localeData||n.lang).call(n),r=e.longDateFormat(r)||r,u=u||" - ",eu(n,t,sr(r),u,f)}function eu(n,t,i,r,u){for(var f,a="",o,l="",s,h="",c="",v="",e=0;e<i.length;e++){if(f=or(n,t,i[e]),f===!1)break;a+=f}for(o=i.length-1;o>e;o--){if(f=or(n,t,i[o]),f===!1)break;l=f+l}for(s=e;s<=o;s++)h+=yt(n,i[s]),c+=yt(t,i[s]);return(h||c)&&(v=u?c+r+h:h+r+c),a+v+l}function or(n,t,i){var r,u;return typeof i=="string"?i:(r=i.token)&&(u=er[r.charAt(0)],u&&n.isSame(t,u))?y(n,r):!1}function sr(n){return n in rt?rt[n]:rt[n]=hr(n)}function hr(n){for(var i=[],r=/\[([^\]]*)\]|\(([^\)]*)\)|(LT|(\w)\4*o?)|([^\w\[\(]+)/g,t;t=r.exec(n);)t[1]?i.push(t[1]):t[2]?i.push({maybe:hr(t[2])}):t[3]?i.push({token:t[3]}):t[5]&&i.push(t[5]);return i}function cr(n){this.options=n||{}}function lr(n){this.grid=n}function ar(n){this.coordMaps=n}function nt(n,t){this.coordMap=n;this.options=t||{}}function ou(n,t){return!n&&!t?!0:n&&t?n.grid===t.grid&&n.row===t.row&&n.col===t.col:!1}function vr(t,i){this.options=i=i||{};this.sourceEl=t;this.parentEl=i.parentEl?n(i.parentEl):t.parent()}function pt(n){this.view=n}function h(n){pt.call(this,n);this.coordMap=new lr(this);this.elsByFill={}}function su(n){var t=yr(n);return t==="background"||t==="inverse-background"}function hu(n){return yr(n)==="inverse-background"}function yr(n){return c((n.source||{}).rendering,n.rendering)}function cu(n){for(var r={},i,t=0;t<n.length;t++)i=n[t],(r[i._id]||(r[i._id]=[])).push(i);return r}function lu(n,t){return n.eventStartMS-t.eventStartMS}function wt(n,t){return n.eventStartMS-t.eventStartMS||t.eventDurationMS-n.eventDurationMS||t.event.allDay-n.event.allDay||(n.event.title||"").localeCompare(t.event.title)}function k(n){h.call(this,n)}function au(n,t){for(var r,i=0;i<t.length;i++)if(r=t[i],r.leftCol<=n.rightCol&&r.rightCol>=n.leftCol)return!0;return!1}function vu(n,t){return n.leftCol-t.leftCol}function ut(n){h.call(this,n)}function yu(n){var r,i,t;if(n.sort(wt),r=pu(n),wu(r),i=r[0]){for(t=0;t<i.length;t++)pr(i[t]);for(t=0;t<i.length;t++)bt(i[t],0,0)}}function pu(n){for(var i=[],u,t,r=0;r<n.length;r++){for(u=n[r],t=0;t<i.length;t++)if(!wr(u,i[t]).length)break;u.level=t;(i[t]||(i[t]=[])).push(u)}return i}function wu(n){for(var f,i,r,u,t=0;t<n.length;t++)for(f=n[t],i=0;i<f.length;i++)for(r=f[i],r.forwardSegs=[],u=t+1;u<n.length;u++)wr(r,n[u],r.forwardSegs)}function pr(n){var u=n.forwardSegs,i=0,t,r;if(n.forwardPressure===undefined){for(t=0;t<u.length;t++)r=u[t],pr(r),i=Math.max(i,1+r.forwardPressure);n.forwardPressure=i}}function bt(n,t,i){var r=n.forwardSegs,u;if(n.forwardCoord===undefined)for(r.length?(r.sort(ku),bt(r[0],t+1,i),n.forwardCoord=r[0].backwardCoord):n.forwardCoord=1,n.backwardCoord=n.forwardCoord-(n.forwardCoord-i)/(t+1),u=0;u<r.length;u++)bt(r[u],0,n.forwardCoord)}function wr(n,t,i){i=i||[];for(var r=0;r<t.length;r++)bu(n,t[r])&&i.push(t[r]);return i}function bu(n,t){return n.bottom>t.top&&n.top<t.bottom}function ku(n,t){return t.forwardPressure-n.forwardPressure||(n.backwardCoord||0)-(t.backwardCoord||0)||wt(n,t)}function e(i){function u(t){var i=w[t];return n.isPlainObject(i)&&!ui(t)?d(i,r.name):i}function p(n,t){return i.trigger.apply(i,[n,t||r].concat(Array.prototype.slice.call(arguments,2),[r]))}function rt(n){var t=n.source||{};return c(n.startEditable,t.startEditable,u("eventStartEditable"),n.editable,t.editable,u("editable"))}function ut(n){var t=n.source||{};return c(n.durationEditable,t.durationEditable,u("eventDurationEditable"),n.editable,t.editable,u("editable"))}function ft(n,t,r,u){var f=i.mutateEvent(t,r,null);p("eventDrop",n,t,f.dateDelta,function(){f.undo();e()},u,{});e()}function et(n,t,r,u){var f=i.mutateEvent(t,null,r);p("eventResize",n,t,f.durationDelta,function(){f.undo();e()},u,{});e()}function ot(n){return t.isMoment(n)&&(n=n.day()),o[n]}function st(){return f}function ht(n,t,i){var r=n.clone();for(t=t||1;o[(r.day()+(i?t:0)+7)%7];)r.add(t,"days");return r}function ct(){var n=g.apply(null,arguments),t=l(n);return nt(t)}function g(n,t){var i=r.colCnt,u=h?-1:1,f=h?i-1:0;return typeof n=="object"&&(t=n.col,n=n.row),n*i+(t*u+f)}function l(n){var t=r.start.day();return n+=s[t],Math.floor(n/f)*7+k[(n%f+f)%f]-t}function nt(n){return r.start.clone().add(n,"days")}function lt(n){var t=a(n),i=v(t);return y(i)}function a(n){return n.clone().stripTime().diff(r.start,"days")}function v(n){var t=r.start.day();return n+=t,Math.floor(n/7)*f+s[(n%7+7)%7]-s[t]}function y(n){var t=r.colCnt,i=h?-1:1,u=h?t-1:0,f=Math.floor(n/t),e=(n%t+t)%t*i+u;return{row:f,col:e}}function at(n,t){for(var b=r.rowCnt,e=r.colCnt,o=[],s=tt(n,t),h=a(s.start),c=a(s.end),k=v(h),d=v(c)-1,i=0;i<b;i++){var p=i*e,g=p+e-1,u=Math.max(k,p),f=Math.min(d,g);if(u<=f){var nt=y(u),it=y(f),w=[nt.col,it.col].sort(di),rt=l(u)==h,ut=l(f)+1==c;o.push({row:i,leftCol:w[0],rightCol:w[1],isStart:rt,isEnd:ut})}}return o}function tt(n,t){var r=n.clone().stripTime(),i,u;return t&&(i=t.clone().stripTime(),u=+t.time(),u&&u>=it&&i.add(1,"days")),(!t||i<=r)&&(i=r.clone().add(1,"days")),{start:r,end:i}}function vt(n){var t=tt(n.start,n.end);return t.end.diff(t.start,"days")>1}var r=this;r.calendar=i;r.opt=u;r.trigger=p;r.isEventDraggable=rt;r.isEventResizable=ut;r.eventDrop=ft;r.eventResize=et;var e=i.reportEventChange,w=i.options,it=t.duration(w.nextDayThreshold);r.init();r.getEventTimeText=function(n,t){var r,f;return typeof n=="object"&&typeof t=="object"?(r=n,f=t,t=arguments[2]):(r=n.start,f=n.end),t=t||u("timeFormat"),f&&u("displayEventEnd")?i.formatRange(r,f,t):i.formatDate(r,t)};r.isHiddenDay=ot;r.skipHiddenDays=ht;r.getCellsPerWeek=st;r.dateToCell=lt;r.dateToDayOffset=a;r.dayOffsetToCellOffset=v;r.cellOffsetToCell=y;r.cellToDate=ct;r.cellToCellOffset=g;r.cellOffsetToDayOffset=l;r.dayOffsetToDate=nt;r.rangeToSegments=at;r.isMultiDayEvent=vt;var b=u("hiddenDays")||[],o=[],f,s=[],k=[],h=u("isRTL");(function(){u("weekends")===!1&&b.push(0,6);for(var t=0,i=0;t<7;t++)s[t]=i,o[t]=n.inArray(t,b)!=-1,o[t]||(k[i]=t,i++);if(f=i,!f)throw"invalid hiddenDays";})()}function du(r){var e=i.dataAttrPrefix,u,f,o,s;return e&&(e+="-"),u=r.data(e+"event")||null,u&&(u=typeof u=="object"?n.extend({},u):{},f=u.start,f==null&&(f=u.time),o=u.duration,s=u.stick,delete u.start,delete u.time,delete u.duration,delete u.stick),f==null&&(f=r.data(e+"start")),f==null&&(f=r.data(e+"time")),o==null&&(o=r.data(e+"duration")),s==null&&(s=r.data(e+"stick")),f=f!=null?t.duration(f):null,o=o!=null?t.duration(o):null,s=Boolean(s),{eventProps:u,startTime:f,duration:o,stick:s}}function o(n){e.call(this,n);this.dayGrid=new k(this);this.coordMap=this.dayGrid.coordMap}function kt(n){o.call(this,n)}function dt(n){o.call(this,n)}function gt(n){o.call(this,n)}function ni(n){o.call(this,n)}function gu(n,t){return t.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"a")}function nf(n,t){return t.longDateFormat("LT").replace(/\s*a$/i,"")}function p(n){e.call(this,n);this.timeGrid=new ut(this);this.opt("allDaySlot")?(this.dayGrid=new k(this),this.coordMap=new ar([this.dayGrid.coordMap,this.timeGrid.coordMap])):this.coordMap=this.timeGrid.coordMap}function ti(n){p.call(this,n)}function ii(n){p.call(this,n)}var b={lang:"en",defaultTimedEventDuration:"02:00:00",defaultAllDayEventDuration:{days:1},forceEventDuration:!1,nextDayThreshold:"09:00:00",defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberTitle:"W",weekNumberCalculation:"local",lazyFetching:!0,startParam:"start",endParam:"end",timezoneParam:"timezone",timezone:!1,titleFormat:{month:"MMMM YYYY",week:"ll",day:"LL"},columnFormat:{month:"ddd",week:dr,day:"dddd"},timeFormat:{"default":kr},displayEventEnd:{month:!1,basicWeek:!1,"default":!0},isRTL:!1,defaultButtonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",today:"today",month:"month",week:"week",day:"day"},buttonIcons:{prev:"left-single-arrow",next:"right-single-arrow",prevYear:"left-double-arrow",nextYear:"right-double-arrow"},theme:!1,themeButtonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e",prevYear:"seek-prev",nextYear:"seek-next"},dragOpacity:.75,dragRevertDuration:500,dragScroll:!0,unselectAuto:!0,dropAccept:"*",eventLimit:!1,eventLimitText:"more",eventLimitClick:"popover",dayPopoverFormat:"LL",handleWindowResize:!0,windowResizeDelay:200},a={en:{columnFormat:{week:"ddd M/D"},dayPopoverFormat:"dddd, MMMM D"}},gr={header:{left:"next,prev today",center:"",right:"title"},buttonIcons:{prev:"right-single-arrow",next:"left-single-arrow",prevYear:"right-double-arrow",nextYear:"left-double-arrow"},themeButtonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w",nextYear:"seek-prev",prevYear:"seek-next"}},i=n.fullCalendar={version:"2.2.3"},l=i.views={},fi,ei,ot,vt,er,rt,br;n.fn.fullCalendar=function(t){var r=Array.prototype.slice.call(arguments,1),i=this;return this.each(function(u,f){var o=n(f),e=o.data("fullCalendar"),s;typeof t=="string"?e&&n.isFunction(e[t])&&(s=e[t].apply(e,r),u||(i=s),t==="destroy"&&o.removeData("fullCalendar")):e||(e=new nu(o,t),o.data("fullCalendar",e),e.render())}),i};i.langs=a;i.datepickerLang=function(t,i,r){var u=a[t];u||(u=a[t]={});w(u,{isRTL:r.isRTL,weekNumberTitle:r.weekHeader,titleFormat:{month:r.showMonthAfterYear?"YYYY["+r.yearSuffix+"] MMMM":"MMMM YYYY["+r.yearSuffix+"]"},defaultButtonText:{prev:st(r.prevText),next:st(r.nextText),today:st(r.currentText)}});n.datepicker&&(n.datepicker.regional[i]=n.datepicker.regional[t]=r,n.datepicker.regional.en=n.datepicker.regional[""],n.datepicker.setDefaults(r))};i.lang=function(n,t){var i;t&&(i=a[n],i||(i=a[n]={}),w(i,t||{}));b.lang=n};i.sourceNormalizers=[];i.sourceFetchers=[];fi={dataType:"json",cache:!1};ei=1;ot=["sun","mon","tue","wed","thu","fri","sat"];i.applyAll=it;var uu=/^\s*\d{4}-\d\d$/,fu=/^\s*\d{4}-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?)?$/,f=t.fn,s=n.extend({},f),ht,ct,nr;i.moment=function(){return lt(arguments)};i.moment.utc=function(){var n=lt(arguments,!0);return n.hasTime()&&n.utc(),n};i.moment.parseZone=function(){return lt(arguments,!0,!0)};f.clone=function(){var n=s.clone.apply(this,arguments);return tr(this,n),this._fullCalendar&&(n._fullCalendar=!0),n};f.time=function(n){if(!this._fullCalendar)return s.time.apply(this,arguments);if(n==null)return t.duration({hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()});this._ambigTime=!1;t.isDuration(n)||t.isMoment(n)||(n=t.duration(n));var i=0;return t.isDuration(n)&&(i=Math.floor(n.asDays())*24),this.hours(i+n.hours()).minutes(n.minutes()).seconds(n.seconds()).milliseconds(n.milliseconds())};f.stripTime=function(){var n=this.toArray();return this.utc(),ct(this,n.slice(0,3)),this._ambigTime=!0,this._ambigZone=!0,this};f.hasTime=function(){return!this._ambigTime};f.stripZone=function(){var n=this.toArray(),t=this._ambigTime;return this.utc(),ct(this,n),t&&(this._ambigTime=!0),this._ambigZone=!0,this};f.hasZone=function(){return!this._ambigZone};f.zone=function(n){return n!=null&&(this._ambigTime=!1,this._ambigZone=!1),s.zone.apply(this,arguments)};f.local=function(){var n=this.toArray(),t=this._ambigZone;return s.local.apply(this,arguments),t&&nr(this,n),this};f.format=function(){return this._fullCalendar&&arguments[0]?rr(this,arguments[0]):this._ambigTime?y(this,"YYYY-MM-DD"):this._ambigZone?y(this,"YYYY-MM-DD[T]HH:mm:ss"):s.format.apply(this,arguments)};f.toISOString=function(){return this._ambigTime?y(this,"YYYY-MM-DD"):this._ambigZone?y(this,"YYYY-MM-DD[T]HH:mm:ss"):s.toISOString.apply(this,arguments)};f.isWithin=function(n,t){var i=at([this,n,t]);return i[0]>=i[1]&&i[0]<i[2]};f.isSame=function(n,t){var r;return this._fullCalendar?t?(r=at([this,n],!0),s.isSame.call(r[0],r[1],t)):(n=i.moment.parseZone(n),s.isSame.call(this,n)&&Boolean(this._ambigTime)===Boolean(n._ambigTime)&&Boolean(this._ambigZone)===Boolean(n._ambigZone)):s.isSame.apply(this,arguments)};n.each(["isBefore","isAfter"],function(n,t){f[t]=function(n,i){var r;return this._fullCalendar?(r=at([this,n]),s[t].call(r[0],r[1],i)):s[t].apply(this,arguments)}});ht="_d"in t()&&"updateOffset"in t;ct=ht?function(n,i){n._d.setTime(Date.UTC.apply(Date,i));t.updateOffset(n,!1)}:ir;nr=ht?function(n,i){n._d.setTime(+new Date(i[0]||0,i[1]||0,i[2]||0,i[3]||0,i[4]||0,i[5]||0,i[6]||0));t.updateOffset(n,!1)}:ir;vt={t:function(n){return y(n,"a").charAt(0)},T:function(n){return y(n,"A").charAt(0)}};i.formatRange=fr;er={Y:"year",M:"month",D:"day",d:"day",A:"second",a:"second",T:"second",t:"second",H:"second",h:"second",m:"second",s:"second"};rt={};cr.prototype={isHidden:!0,options:null,el:null,documentMousedownProxy:null,margin:10,show:function(){this.isHidden&&(this.el||this.render(),this.el.show(),this.position(),this.isHidden=!1,this.trigger("show"))},hide:function(){this.isHidden||(this.el.hide(),this.isHidden=!0,this.trigger("hide"))},render:function(){var i=this,t=this.options;this.el=n('<div class="fc-popover"/>').addClass(t.className||"").css({top:0,left:0}).append(t.content).appendTo(t.parentEl);this.el.on("click",".fc-close",function(){i.hide()});if(t.autoHide)n(document).on("mousedown",this.documentMousedownProxy=n.proxy(this,"documentMousedown"))},documentMousedown:function(t){this.el&&!n(t.target).closest(this.el).length&&this.hide()},destroy:function(){this.hide();this.el&&(this.el.remove(),this.el=null);n(document).off("mousedown",this.documentMousedownProxy)},position:function(){var t=this.options,h=this.el.offsetParent().offset(),c=this.el.outerWidth(),l=this.el.outerHeight(),o=n(window),i=vi(this.el),f,e,s,r,u;r=t.top||0;u=t.left!==undefined?t.left:t.right!==undefined?t.right-c:0;i.is(window)||i.is(document)?(i=o,f=0,e=0):(s=i.offset(),f=s.top,e=s.left);f+=o.scrollTop();e+=o.scrollLeft();t.viewportConstrain!==!1&&(r=Math.min(r,f+i.outerHeight()-l-this.margin),r=Math.max(r,f+this.margin),u=Math.min(u,e+i.outerWidth()-c-this.margin),u=Math.max(u,e+this.margin));this.el.css({top:r-h.top,left:u-h.left})},trigger:function(n){this.options[n]&&this.options[n].apply(this,Array.prototype.slice.call(arguments,1))}};lr.prototype={grid:null,rows:null,cols:null,containerEl:null,minX:null,maxX:null,minY:null,maxY:null,build:function(){this.grid.buildCoords(this.rows=[],this.cols=[]);this.computeBounds()},getCell:function(n,t){var r=null,u=this.rows,f=this.cols,e=-1,o=-1,i;if(this.inBounds(n,t)){for(i=0;i<u.length;i++)if(t>=u[i][0]&&t<u[i][1]){e=i;break}for(i=0;i<f.length;i++)if(n>=f[i][0]&&n<f[i][1]){o=i;break}e>=0&&o>=0&&(r={row:e,col:o},r.grid=this.grid,r.date=this.grid.getCellDate(r))}return r},computeBounds:function(){var n;this.containerEl&&(n=this.containerEl.offset(),this.minX=n.left,this.maxX=n.left+this.containerEl.outerWidth(),this.minY=n.top,this.maxY=n.top+this.containerEl.outerHeight())},inBounds:function(n,t){return this.containerEl?n>=this.minX&&n<this.maxX&&t>=this.minY&&t<this.maxY:!0}};ar.prototype={coordMaps:null,build:function(){for(var t=this.coordMaps,n=0;n<t.length;n++)t[n].build()},getCell:function(n,t){for(var u=this.coordMaps,r=null,i=0;i<u.length&&!r;i++)r=u[i].getCell(n,t);return r}};nt.prototype={coordMap:null,options:null,isListening:!1,isDragging:!1,origCell:null,origDate:null,cell:null,date:null,mouseX0:null,mouseY0:null,mousemoveProxy:null,mouseupProxy:null,scrollEl:null,scrollBounds:null,scrollTopVel:null,scrollLeftVel:null,scrollIntervalId:null,scrollHandlerProxy:null,scrollSensitivity:30,scrollSpeed:200,scrollIntervalMs:50,mousedown:function(n){pi(n)&&(n.preventDefault(),this.startListening(n),this.options.distance||this.startDrag(n))},startListening:function(t){var i,r;if(!this.isListening){if(t&&this.options.scroll&&(i=vi(n(t.target)),!i.is(window)&&!i.is(document))){this.scrollEl=i;this.scrollHandlerProxy=gi(n.proxy(this,"scrollHandler"),100);this.scrollEl.on("scroll",this.scrollHandlerProxy)}this.computeCoords();t&&(r=this.getCell(t),this.origCell=r,this.origDate=r?r.date:null,this.mouseX0=t.pageX,this.mouseY0=t.pageY);n(document).on("mousemove",this.mousemoveProxy=n.proxy(this,"mousemove")).on("mouseup",this.mouseupProxy=n.proxy(this,"mouseup")).on("selectstart",this.preventDefault);this.isListening=!0;this.trigger("listenStart",t)}},computeCoords:function(){this.coordMap.build();this.computeScrollBounds()},mousemove:function(n){var t,i;this.isDragging||(t=this.options.distance||1,i=Math.pow(n.pageX-this.mouseX0,2)+Math.pow(n.pageY-this.mouseY0,2),i>=t*t&&this.startDrag(n));this.isDragging&&this.drag(n)},startDrag:function(n){var t;this.isListening||this.startListening();this.isDragging||(this.isDragging=!0,this.trigger("dragStart",n),t=this.getCell(n),t&&this.cellOver(t,!0))},drag:function(n){var t;this.isDragging&&(t=this.getCell(n),ou(t,this.cell)||(this.cell&&this.cellOut(),t&&this.cellOver(t)),this.dragScroll(n))},cellOver:function(n){this.cell=n;this.date=n.date;this.trigger("cellOver",n,n.date)},cellOut:function(){this.cell&&(this.trigger("cellOut",this.cell),this.cell=null,this.date=null)},mouseup:function(n){this.stopDrag(n);this.stopListening(n)},stopDrag:function(n){this.isDragging&&(this.stopScrolling(),this.trigger("dragStop",n),this.isDragging=!1)},stopListening:function(t){this.isListening&&(this.scrollEl&&(this.scrollEl.off("scroll",this.scrollHandlerProxy),this.scrollHandlerProxy=null),n(document).off("mousemove",this.mousemoveProxy).off("mouseup",this.mouseupProxy).off("selectstart",this.preventDefault),this.mousemoveProxy=null,this.mouseupProxy=null,this.isListening=!1,this.trigger("listenStop",t),this.origCell=this.cell=null,this.origDate=this.date=null)},getCell:function(n){return this.coordMap.getCell(n.pageX,n.pageY)},trigger:function(n){this.options[n]&&this.options[n].apply(this,Array.prototype.slice.call(arguments,1))},preventDefault:function(n){n.preventDefault()},computeScrollBounds:function(){var t=this.scrollEl,n;t&&(n=t.offset(),this.scrollBounds={top:n.top,left:n.left,bottom:n.top+t.outerHeight(),right:n.left+t.outerWidth()})},dragScroll:function(n){var t=this.scrollSensitivity,i=this.scrollBounds,r,u,f,e,o=0,s=0;i&&(r=(t-(n.pageY-i.top))/t,u=(t-(i.bottom-n.pageY))/t,f=(t-(n.pageX-i.left))/t,e=(t-(i.right-n.pageX))/t,r>=0&&r<=1?o=r*this.scrollSpeed*-1:u>=0&&u<=1&&(o=u*this.scrollSpeed),f>=0&&f<=1?s=f*this.scrollSpeed*-1:e>=0&&e<=1&&(s=e*this.scrollSpeed));this.setScrollVel(o,s)},setScrollVel:function(t,i){this.scrollTopVel=t;this.scrollLeftVel=i;this.constrainScrollVel();(this.scrollTopVel||this.scrollLeftVel)&&!this.scrollIntervalId&&(this.scrollIntervalId=setInterval(n.proxy(this,"scrollIntervalFunc"),this.scrollIntervalMs))},constrainScrollVel:function(){var n=this.scrollEl;this.scrollTopVel<0?n.scrollTop()<=0&&(this.scrollTopVel=0):this.scrollTopVel>0&&n.scrollTop()+n[0].clientHeight>=n[0].scrollHeight&&(this.scrollTopVel=0);this.scrollLeftVel<0?n.scrollLeft()<=0&&(this.scrollLeftVel=0):this.scrollLeftVel>0&&n.scrollLeft()+n[0].clientWidth>=n[0].scrollWidth&&(this.scrollLeftVel=0)},scrollIntervalFunc:function(){var n=this.scrollEl,t=this.scrollIntervalMs/1e3;this.scrollTopVel&&n.scrollTop(n.scrollTop()+this.scrollTopVel*t);this.scrollLeftVel&&n.scrollLeft(n.scrollLeft()+this.scrollLeftVel*t);this.constrainScrollVel();this.scrollTopVel||this.scrollLeftVel||this.stopScrolling()},stopScrolling:function(){this.scrollIntervalId&&(clearInterval(this.scrollIntervalId),this.scrollIntervalId=null,this.computeCoords())},scrollHandler:function(){this.scrollIntervalId||this.computeCoords()}};vr.prototype={options:null,sourceEl:null,el:null,parentEl:null,top0:null,left0:null,mouseY0:null,mouseX0:null,topDelta:null,leftDelta:null,mousemoveProxy:null,isFollowing:!1,isHidden:!1,isAnimating:!1,start:function(t){if(!this.isFollowing){this.isFollowing=!0;this.mouseY0=t.pageY;this.mouseX0=t.pageX;this.topDelta=0;this.leftDelta=0;this.isHidden||this.updatePosition();n(document).on("mousemove",this.mousemoveProxy=n.proxy(this,"mousemove"))}},stop:function(t,i){function u(){this.isAnimating=!1;f.destroyEl();this.top0=this.left0=null;i&&i()}var f=this,r=this.options.revertDuration;this.isFollowing&&!this.isAnimating&&(this.isFollowing=!1,n(document).off("mousemove",this.mousemoveProxy),t&&r&&!this.isHidden?(this.isAnimating=!0,this.el.animate({top:this.top0,left:this.left0},{duration:r,complete:u})):u())},getEl:function(){var n=this.el;return n||(this.sourceEl.width(),n=this.el=this.sourceEl.clone().css({position:"absolute",visibility:"",display:this.isHidden?"none":"",margin:0,right:"auto",bottom:"auto",width:this.sourceEl.width(),height:this.sourceEl.height(),opacity:this.options.opacity||"",zIndex:this.options.zIndex}).appendTo(this.parentEl)),n},destroyEl:function(){this.el&&(this.el.remove(),this.el=null)},updatePosition:function(){var n,t;this.getEl();this.top0===null&&(this.sourceEl.width(),n=this.sourceEl.offset(),t=this.el.offsetParent().offset(),this.top0=n.top-t.top,this.left0=n.left-t.left);this.el.css({top:this.top0+this.topDelta,left:this.left0+this.leftDelta})},mousemove:function(n){this.topDelta=n.pageY-this.mouseY0;this.leftDelta=n.pageX-this.mouseX0;this.isHidden||this.updatePosition()},hide:function(){this.isHidden||(this.isHidden=!0,this.el&&this.el.hide())},show:function(){this.isHidden&&(this.isHidden=!1,this.updatePosition(),this.getEl().show())}};pt.prototype={view:null,cellHtml:"<td/>",rowHtml:function(n,t){var u=this.view,e=this.getHtmlRenderer("cell",n),r="",i,f;for(t=t||0,i=0;i<u.colCnt;i++)f=u.cellToDate(t,i),r+=e(t,i,f);return r=this.bookendCells(r,n,t),"<tr>"+r+"<\/tr>"},bookendCells:function(n,t,i){var s=this.view,r=this.getHtmlRenderer("intro",t)(i||0),u=this.getHtmlRenderer("outro",t)(i||0),f=s.opt("isRTL"),e=f?u:r,o=f?r:u;return typeof n=="string"?e+n+o:n.prepend(e).append(o)},getHtmlRenderer:function(n,t){var f=this.view,e,r,u,i;return(e=n+"Html",t&&(r=t+ki(n)+"Html"),r&&(i=f[r])?u=f:r&&(i=this[r])?u=this:(i=f[e])?u=f:(i=this[e])&&(u=this),typeof i=="function")?function(){return i.apply(u,arguments)||""}:function(){return i||""}}};h.prototype=u(pt.prototype);n.extend(h.prototype,{el:null,coordMap:null,cellDuration:null,elsByFill:null,render:function(){this.bindHandlers()},destroy:function(){},buildCoords:function(){},getCellDate:function(){},getCellDayEl:function(){},rangeToSegs:function(){},bindHandlers:function(){var t=this;this.el.on("mousedown",function(i){n(i.target).is(".fc-event-container *, .fc-more")||n(i.target).closest(".fc-popover").length||t.dayMousedown(i)});this.bindSegHandlers()},dayMousedown:function(n){var u=this,i=this.view,h=i.calendar,o=i.opt("selectable"),t=null,r,f,s,e=new nt(this.coordMap,{scroll:i.opt("dragScroll"),dragStart:function(){i.unselect()},cellOver:function(n,i){e.origDate&&(s=u.getCellDayEl(n),t=[i,e.origDate].sort(di),r=t[0],f=t[1].clone().add(u.cellDuration),o&&(h.isSelectionAllowedInRange(r,f)?u.renderSelection(r,f):(t=null,tt())))},cellOut:function(){t=null;u.destroySelection();v()},listenStop:function(n){t&&(t[0].isSame(t[1])&&i.trigger("dayClick",s[0],r,n),o&&i.reportSelection(r,f,n));v()}});e.mousedown(n)},renderDrag:function(){},destroyDrag:function(){},renderResize:function(){},destroyResize:function(){},renderRangeHelper:function(n,t,i){var f=this.view,r;!t&&f.opt("forceEventDuration")&&(t=f.calendar.getDefaultEventEnd(!n.hasTime(),n));r=i?u(i.event):{};r.start=n;r.end=t;r.allDay=!(n.hasTime()||t&&t.hasTime());r.className=(r.className||[]).concat("fc-helper");i||(r.editable=!1);this.renderHelper(r,i)},renderHelper:function(){},destroyHelper:function(){},renderSelection:function(n,t){this.renderHighlight(n,t)},destroySelection:function(){this.destroyHighlight()},renderHighlight:function(n,t){this.renderFill("highlight",this.rangeToSegs(n,t))},destroyHighlight:function(){this.destroyFill("highlight")},highlightSegClasses:function(){return["fc-highlight"]},renderFill:function(){},destroyFill:function(n){var t=this.elsByFill[n];t&&(t.remove(),delete this.elsByFill[n])},renderFillSegEls:function(t,i){var u=this,f=this[t+"SegEl"],e="",o=[],r;if(i.length){for(r=0;r<i.length;r++)e+=this.fillSegHtml(t,i[r]);n(e).each(function(t,r){var s=i[t],e=n(r);f&&(e=f.call(u,s,e));e&&(e=n(e),e.is(u.fillSegTag)&&(s.el=e,o.push(s)))})}return o},fillSegTag:"div",fillSegHtml:function(n,t){var i=this[n+"SegClasses"],r=this[n+"SegStyles"],u=i?i.call(this,t):[],f=r?r.call(this,t):"";return"<"+this.fillSegTag+(u.length?' class="'+u.join(" ")+'"':"")+(f?' style="'+f+'"':"")+" />"},headHtml:function(){return'<div class="fc-row '+this.view.widgetHeaderClass+'"><table><thead>'+this.rowHtml("head")+"<\/thead><\/table><\/div>"},headCellHtml:function(n,t,i){var u=this.view,f=u.calendar,e=u.opt("columnFormat");return'<th class="fc-day-header '+u.widgetHeaderClass+" fc-"+ot[i.day()]+'">'+r(f.formatDate(i,e))+"<\/th>"},bgCellHtml:function(n,t,i){var u=this.view,r=this.getDayClasses(i);return r.unshift("fc-day",u.widgetContentClass),'<td class="'+r.join(" ")+'" data-date="'+i.format()+'"><\/td>'},getDayClasses:function(n){var i=this.view,r=i.calendar.getNow().stripTime(),t=["fc-"+ot[n.day()]];return i.name==="month"&&n.month()!=i.intervalStart.month()&&t.push("fc-other-month"),n.isSame(r,"day")?t.push("fc-today",i.highlightStateClass):n<r?t.push("fc-past"):t.push("fc-future"),t}});n.extend(h.prototype,{mousedOverSeg:null,isDraggingSeg:!1,isResizingSeg:!1,segs:null,renderEvents:function(n){for(var f=this.eventsToSegs(n),t=[],i=[],u,r=0;r<f.length;r++)u=f[r],su(u.event)?t.push(u):i.push(u);t=this.renderBgSegs(t)||t;i=this.renderFgSegs(i)||i;this.segs=t.concat(i)},destroyEvents:function(){this.triggerSegMouseout();this.destroyFgSegs();this.destroyBgSegs();this.segs=null},getSegs:function(){return this.segs||[]},renderFgSegs:function(){},destroyFgSegs:function(){},renderFgSegEls:function(t,i){var e=this.view,u="",f=[],r;if(t.length){for(r=0;r<t.length;r++)u+=this.fgSegHtml(t[r],i);n(u).each(function(i,r){var u=t[i],o=e.resolveEventEl(u.event,n(r));o&&(o.data("fc-seg",u),u.el=o,f.push(u))})}return f},fgSegHtml:function(){},renderBgSegs:function(n){return this.renderFill("bgEvent",n)},destroyBgSegs:function(){this.destroyFill("bgEvent")},bgEventSegEl:function(n,t){return this.view.resolveEventEl(n.event,t)},bgEventSegClasses:function(n){var t=n.event,i=t.source||{};return["fc-bgevent"].concat(t.className,i.className||[])},bgEventSegStyles:function(n){var i=this.view,t=n.event,r=t.source||{},f=t.color,e=r.color,o=i.opt("eventColor"),u=t.backgroundColor||f||r.backgroundColor||e||i.opt("eventBackgroundColor")||o;return u?"background-color:"+u:""},businessHoursSegClasses:function(){return["fc-nonbusiness","fc-bgevent"]},bindSegHandlers:function(){var t=this,i=this.view;n.each({mouseenter:function(n,i){t.triggerSegMouseover(n,i)},mouseleave:function(n,i){t.triggerSegMouseout(n,i)},click:function(n,t){return i.trigger("eventClick",this,n.event,t)},mousedown:function(r,u){n(u.target).is(".fc-resizer")&&i.isEventResizable(r.event)?t.segResizeMousedown(r,u):i.isEventDraggable(r.event)&&t.segDragMousedown(r,u)}},function(i,r){t.el.on(i,".fc-event-container > *",function(i){var u=n(this).data("fc-seg");if(u&&!t.isDraggingSeg&&!t.isResizingSeg)return r.call(this,u,i)})})},triggerSegMouseover:function(n,t){this.mousedOverSeg||(this.mousedOverSeg=n,this.view.trigger("eventMouseover",n.el[0],n.event,t))},triggerSegMouseout:function(n,t){t=t||{};this.mousedOverSeg&&(n=n||this.mousedOverSeg,this.mousedOverSeg=null,this.view.trigger("eventMouseout",n.el[0],n.event,t))},segDragMousedown:function(n,t){var e=this,i=this.view,c=i.calendar,o=n.el,f=n.event,r,s,u=new vr(n.el,{parentEl:i.el,opacity:i.opt("dragOpacity"),revertDuration:i.opt("dragRevertDuration"),zIndex:2}),h=new nt(i.coordMap,{distance:5,scroll:i.opt("dragScroll"),listenStart:function(n){u.hide();u.start(n)},dragStart:function(t){e.triggerSegMouseout(n,t);e.isDraggingSeg=!0;i.hideEvent(f);i.trigger("eventDragStart",o[0],f,t,{})},cellOver:function(t,o){var a=n.cellDate||h.origDate,l=e.computeDraggedEventDates(n,a,o);r=l.start;s=l.end;c.isEventAllowedInRange(f,r,l.visibleEnd)?i.renderDrag(r,s,n)?u.hide():u.show():(r=null,u.show(),tt())},cellOut:function(){r=null;i.destroyDrag();u.show();v()},dragStop:function(n){var t=r&&!r.isSame(f.start);u.stop(!t,function(){e.isDraggingSeg=!1;i.destroyDrag();i.showEvent(f);i.trigger("eventDragStop",o[0],f,n,{});t&&i.eventDrop(o[0],f,r,n)});v()},listenStop:function(){u.stop()}});h.mousedown(t)},computeDraggedEventDates:function(n,t,i){var s=this.view,r=n.event,c=r.start,l=s.calendar.getEventEnd(r),e,u,f,o,h;return i.hasTime()===t.hasTime()?(e=g(i,t),u=c.clone().add(e),f=r.end===null?null:l.clone().add(e),o=r.allDay):(u=i,f=null,o=!i.hasTime()),h=f||s.calendar.getDefaultEventEnd(o,u),{start:u,end:f,visibleEnd:h}},segResizeMousedown:function(n,t){function o(){f.destroyResize();r.showEvent(u)}var f=this,r=this.view,c=r.calendar,s=n.el,u=n.event,e=u.start,l=r.calendar.getEventEnd(u),i=null,h;h=new nt(this.coordMap,{distance:5,scroll:r.opt("dragScroll"),dragStart:function(t){f.triggerSegMouseout(n,t);f.isResizingSeg=!0;r.trigger("eventResizeStart",s[0],u,t,{})},cellOver:function(t,s){s.isBefore(e)&&(s=e);i=s.clone().add(f.cellDuration);c.isEventAllowedInRange(u,e,i)?i.isSame(l)?(i=null,o()):(f.renderResize(e,i,n),r.hideEvent(u)):(i=null,o(),tt())},cellOut:function(){i=null;o();v()},dragStop:function(n){f.isResizingSeg=!1;o();v();r.trigger("eventResizeStop",s[0],u,n,{});i&&r.eventResize(s[0],u,i,n)}});h.mousedown(t)},getSegClasses:function(n,t,i){var r=n.event,u=["fc-event",n.isStart?"fc-start":"fc-not-start",n.isEnd?"fc-end":"fc-not-end"].concat(r.className,r.source?r.source.className:[]);return t&&u.push("fc-draggable"),i&&u.push("fc-resizable"),u},getEventSkinCss:function(n){var t=this.view,i=n.source||{},u=n.color,f=i.color,e=t.opt("eventColor"),o=n.backgroundColor||u||i.backgroundColor||f||t.opt("eventBackgroundColor")||e,s=n.borderColor||u||i.borderColor||f||t.opt("eventBorderColor")||e,h=n.textColor||i.textColor||t.opt("eventTextColor"),r=[];return o&&r.push("background-color:"+o),s&&r.push("border-color:"+s),h&&r.push("color:"+h),r.join(";")},eventsToSegs:function(n,t){for(var u=this.eventsToRanges(n),r=[],i=0;i<u.length;i++)r.push.apply(r,this.eventRangeToSegs(u[i],t));return r},eventsToRanges:function(t){var r=this,u=cu(t),i=[];return n.each(u,function(n,t){t.length&&i.push.apply(i,hu(t[0])?r.eventsToInverseRanges(t):r.eventsToNormalRanges(t))}),i},eventsToNormalRanges:function(n){for(var e=this.view.calendar,f=[],i,r,u,t=0;t<n.length;t++)i=n[t],r=i.start.clone().stripZone(),u=e.getEventEnd(i).stripZone(),f.push({event:i,start:r,end:u,eventStartMS:+r,eventDurationMS:u-r});return f},eventsToInverseRanges:function(n){var e=this.view,h=e.start.clone().stripZone(),o=e.end.clone().stripZone(),u=this.eventsToNormalRanges(n),f=[],s=n[0],t=h,i,r;for(u.sort(lu),i=0;i<u.length;i++)r=u[i],r.start>t&&f.push({event:s,start:t,end:r.start}),t=r.end;return t<o&&f.push({event:s,start:t,end:o}),f},eventRangeToSegs:function(n,t){for(var u,i=t?t(n.start,n.end):this.rangeToSegs(n.start,n.end),r=0;r<i.length;r++)u=i[r],u.event=n.event,u.eventStartMS=n.eventStartMS,u.eventDurationMS=n.eventDurationMS;return i}});k.prototype=u(h.prototype);n.extend(k.prototype,{numbersVisible:!1,cellDuration:t.duration({days:1}),bottomCoordPadding:0,rowEls:null,dayEls:null,helperEls:null,render:function(t){for(var i=this.view,u="",r=0;r<i.rowCnt;r++)u+=this.dayRowHtml(r,t);this.el.html(u);this.rowEls=this.el.find(".fc-row");this.dayEls=this.el.find(".fc-day");this.dayEls.each(function(t,r){var u=i.cellToDate(Math.floor(t/i.colCnt),t%i.colCnt);i.trigger("dayRender",null,u,n(r))});h.prototype.render.call(this)},destroy:function(){this.destroySegPopover()},dayRowHtml:function(n,t){var r=this.view,i=["fc-row","fc-week",r.widgetContentClass];return t&&i.push("fc-rigid"),'<div class="'+i.join(" ")+'"><div class="fc-bg"><table>'+this.rowHtml("day",n)+'<\/table><\/div><div class="fc-content-skeleton"><table>'+(this.numbersVisible?"<thead>"+this.rowHtml("number",n)+"<\/thead>":"")+"<\/table><\/div><\/div>"},dayCellHtml:function(n,t,i){return this.bgCellHtml(n,t,i)},buildCoords:function(t,i){var e=this.view.colCnt,f,r,u;this.dayEls.slice(0,e).each(function(t,e){f=n(e);r=f.offset().left;t&&(u[1]=r);u=[r];i[t]=u});u[1]=r+f.outerWidth();this.rowEls.each(function(i,e){f=n(e);r=f.offset().top;i&&(u[1]=r);u=[r];t[i]=u});u[1]=r+f.outerHeight()+this.bottomCoordPadding},getCellDate:function(n){return this.view.cellToDate(n)},getCellDayEl:function(n){return this.dayEls.eq(n.row*this.view.colCnt+n.col)},rangeToSegs:function(n,t){return this.view.rangeToSegments(n,t)},renderDrag:function(n,t,i){var r;return this.renderHighlight(n,t||this.view.calendar.getDefaultEventEnd(!0,n)),i&&!i.el.closest(this.el).length?(this.renderRangeHelper(n,t,i),r=this.view.opt("dragOpacity"),r!==undefined&&this.helperEls.css("opacity",r),!0):void 0},destroyDrag:function(){this.destroyHighlight();this.destroyHelper()},renderResize:function(n,t,i){this.renderHighlight(n,t);this.renderRangeHelper(n,t,i)},destroyResize:function(){this.destroyHighlight();this.destroyHelper()},renderHelper:function(t,i){var u=[],r=this.eventsToSegs([t]),f;r=this.renderFgSegEls(r);f=this.renderSegRows(r);this.rowEls.each(function(t,r){var o=n(r),e=n('<div class="fc-helper-skeleton"><table/><\/div>'),s;s=i&&i.row===t?i.el.position().top:o.find(".fc-content-skeleton tbody").position().top;e.css("top",s).find("table").append(f[t].tbodyEl);o.append(e);u.push(e[0])});this.helperEls=n(u)},destroyHelper:function(){this.helperEls&&(this.helperEls.remove(),this.helperEls=null)},fillSegTag:"td",renderFill:function(t,i){var e=[],r,u,f;for(i=this.renderFillSegEls(t,i),r=0;r<i.length;r++)u=i[r],f=this.renderFillRow(t,u),this.rowEls.eq(u.row).append(f),e.push(f[0]);return this.elsByFill[t]=n(e),i},renderFillRow:function(t,i){var o=this.view.colCnt,u=i.leftCol,f=i.rightCol+1,e,r;return e=n('<div class="fc-'+t.toLowerCase()+'-skeleton"><table><tr/><\/table><\/div>'),r=e.find("tr"),u>0&&r.append('<td colspan="'+u+'"/>'),r.append(i.el.attr("colspan",f-u)),f<o&&r.append('<td colspan="'+(o-f)+'"/>'),this.bookendCells(r,t),e}});n.extend(k.prototype,{rowStructs:null,destroyEvents:function(){this.destroySegPopover();h.prototype.destroyEvents.apply(this,arguments)},getSegs:function(){return h.prototype.getSegs.call(this).concat(this.popoverSegs||[])},renderBgSegs:function(t){var i=n.grep(t,function(n){return n.event.allDay});return h.prototype.renderBgSegs.call(this,i)},renderFgSegs:function(t){var i;return t=this.renderFgSegEls(t),i=this.rowStructs=this.renderSegRows(t),this.rowEls.each(function(t,r){n(r).find(".fc-content-skeleton > table").append(i[t].tbodyEl)}),t},destroyFgSegs:function(){for(var t=this.rowStructs||[],n;n=t.pop();)n.tbodyEl.remove();this.rowStructs=null},renderSegRows:function(n){for(var r=[],i=this.groupSegRows(n),t=0;t<i.length;t++)r.push(this.renderSegRow(t,i[t]));return r},fgSegHtml:function(n,t){var u=this.view,c=u.opt("isRTL"),i=n.event,l=u.isEventDraggable(i),o=!t&&i.allDay&&n.isEnd&&u.isEventResizable(i),s=this.getSegClasses(n,l,o),h=this.getEventSkinCss(i),f="",e;return s.unshift("fc-day-grid-event"),!i.allDay&&n.isStart&&(f='<span class="fc-time">'+r(u.getEventTimeText(i))+"<\/span>"),e='<span class="fc-title">'+(r(i.title||"")||"&nbsp;")+"<\/span>",'<a class="'+s.join(" ")+'"'+(i.url?' href="'+r(i.url)+'"':"")+(h?' style="'+h+'"':"")+'><div class="fc-content">'+(c?e+" "+f:f+" "+e)+"<\/div>"+(o?'<div class="fc-resizer"/>':"")+"<\/a>"},renderSegRow:function(t,i){function p(t){while(u<t)r=(h[f-1]||[])[u],r?r.attr("rowspan",parseInt(r.attr("rowspan")||1,10)+1):(r=n("<td/>"),o.append(r)),s[f][u]=r,h[f][u]=r,u++}for(var w=this.view,b=w.colCnt,a=this.buildSegLevels(i),k=Math.max(1,a.length),y=n("<tbody/>"),v=[],s=[],h=[],c,u,o,l,e,r,f=0;f<k;f++){if(c=a[f],u=0,o=n("<tr/>"),v.push([]),s.push([]),h.push([]),c)for(l=0;l<c.length;l++){for(e=c[l],p(e.leftCol),r=n('<td class="fc-event-container"/>').append(e.el),e.leftCol!=e.rightCol?r.attr("colspan",e.rightCol-e.leftCol+1):h[f][u]=r;u<=e.rightCol;)s[f][u]=r,v[f][u]=e,u++;o.append(r)}p(b);this.bookendCells(o,"eventSkeleton");y.append(o)}return{row:t,tbodyEl:y,cellMatrix:s,segMatrix:v,segLevels:a,segs:i}},buildSegLevels:function(n){var i=[],r,u,t;for(n.sort(wt),r=0;r<n.length;r++){for(u=n[r],t=0;t<i.length;t++)if(!au(u,i[t]))break;u.level=t;(i[t]||(i[t]=[])).push(u)}for(t=0;t<i.length;t++)i[t].sort(vu);return i},groupSegRows:function(n){for(var r=this.view,i=[],t=0;t<r.rowCnt;t++)i.push([]);for(t=0;t<n.length;t++)i[n[t].row].push(n[t]);return i}});n.extend(k.prototype,{segPopover:null,popoverSegs:null,destroySegPopover:function(){this.segPopover&&this.segPopover.hide()},limitRows:function(n){for(var r=this.rowStructs||[],i,t=0;t<r.length;t++)this.unlimitRow(t),i=n?typeof n=="number"?n:this.computeRowLevelLimit(t):!1,i!==!1&&this.limitRow(t,i)},computeRowLevelLimit:function(n){for(var u=this.rowEls.eq(n),f=u.height(),r=this.rowStructs[n].tbodyEl.children(),i,t=0;t<r.length;t++)if(i=r.eq(t).removeClass("fc-limited"),i.position().top+i.outerHeight()>f)return t;return!1},limitRow:function(t,i){function it(e){while(u<e)f={row:t,col:u},r=nt.getCellSegs(f,i),r.length&&(s=b[i-1][u],y=nt.renderMoreLink(f,r),c=n("<div/>").append(y),s.append(c),p.push(c[0])),u++}var nt=this,rt=this.view,e=this.rowStructs[t],p=[],u=0,f,w,b,k,l,o,r,d,a,s,tt,g,h,v,c,y;if(i&&i<e.segLevels.length){for(w=e.segLevels[i-1],b=e.cellMatrix,k=e.tbodyEl.children().slice(i).addClass("fc-limited").get(),l=0;l<w.length;l++){for(o=w[l],it(o.leftCol),a=[],d=0;u<=o.rightCol;)f={row:t,col:u},r=this.getCellSegs(f,i),a.push(r),d+=r.length,u++;if(d){for(s=b[i-1][o.leftCol],tt=s.attr("rowspan")||1,g=[],h=0;h<a.length;h++)v=n('<td class="fc-more-cell"/>').attr("rowspan",tt),r=a[h],f={row:t,col:o.leftCol+h},y=this.renderMoreLink(f,[o].concat(r)),c=n("<div/>").append(y),v.append(c),g.push(v[0]),p.push(v[0]);s.addClass("fc-limited").after(n(g));k.push(s[0])}}it(rt.colCnt);e.moreEls=n(p);e.limitedEls=n(k)}},unlimitRow:function(n){var t=this.rowStructs[n];t.moreEls&&(t.moreEls.remove(),t.moreEls=null);t.limitedEls&&(t.limitedEls.removeClass("fc-limited"),t.limitedEls=null)},renderMoreLink:function(t,i){var r=this,u=this.view;return n('<a class="fc-more"/>').text(this.getMoreLinkText(i.length)).on("click",function(f){var e=u.opt("eventLimitClick"),o=u.cellToDate(t),s=n(this),c=r.getCellDayEl(t),h=r.getCellSegs(t),l=r.resliceDaySegs(h,o),a=r.resliceDaySegs(i,o);typeof e=="function"&&(e=u.trigger("eventLimitClick",null,{date:o,dayEl:c,moreEl:s,segs:l,hiddenSegs:a},f));e==="popover"?r.showSegPopover(o,t,s,h):typeof e=="string"&&u.calendar.zoomTo(o,e)})},showSegPopover:function(n,t,i,r){var f=this,e=this.view,o=i.parent(),s,u;s=e.rowCnt==1?this.view.el:this.rowEls.eq(t.row);u={className:"fc-more-popover",content:this.renderSegPopoverContent(n,r),parentEl:this.el,top:s.offset().top,autoHide:!0,viewportConstrain:e.opt("popoverViewportConstrain"),hide:function(){f.segPopover.destroy();f.segPopover=null;f.popoverSegs=null}};e.opt("isRTL")?u.right=o.offset().left+o.outerWidth()+1:u.left=o.offset().left-1;this.segPopover=new cr(u);this.segPopover.show()},renderSegPopoverContent:function(t,i){var f=this.view,o=f.opt("theme"),s=t.format(f.opt("dayPopoverFormat")),e=n('<div class="fc-header '+f.widgetHeaderClass+'"><span class="fc-close '+(o?"ui-icon ui-icon-closethick":"fc-icon fc-icon-x")+'"><\/span><span class="fc-title">'+r(s)+'<\/span><div class="fc-clear"/><\/div><div class="fc-body '+f.widgetContentClass+'"><div class="fc-event-container"><\/div><\/div>'),h=e.find(".fc-event-container"),u;for(i=this.renderFgSegEls(i,!0),this.popoverSegs=i,u=0;u<i.length;u++)i[u].cellDate=t,h.append(i[u].el);return e},resliceDaySegs:function(t,i){var u=n.map(t,function(n){return n.event}),r=i.clone().stripTime(),f=r.clone().add(1,"days");return this.eventsToSegs(u,function(n,t){var i=wi(n,t,r,f);return i?[i]:[]})},getMoreLinkText:function(n){var i=this.view,t=i.opt("eventLimitText");return typeof t=="function"?t(n):"+"+n+" "+t},getCellSegs:function(n,t){for(var u=this.rowStructs[n.row].segMatrix,i=t||0,f=[],r;i<u.length;)r=u[i][n.col],r&&f.push(r),i++;return f}});ut.prototype=u(h.prototype);n.extend(ut.prototype,{slotDuration:null,snapDuration:null,minTime:null,maxTime:null,dayEls:null,slatEls:null,slatTops:null,helperEl:null,businessHourSegs:null,render:function(){this.processOptions();this.el.html(this.renderHtml());this.dayEls=this.el.find(".fc-day");this.slatEls=this.el.find(".fc-slats tr");this.computeSlatTops();this.renderBusinessHours();h.prototype.render.call(this)},renderBusinessHours:function(){var n=this.view.calendar.getBusinessHoursEvents();this.businessHourSegs=this.renderFill("businessHours",this.eventsToSegs(n),"bgevent")},renderHtml:function(){return'<div class="fc-bg"><table>'+this.rowHtml("slotBg")+'<\/table><\/div><div class="fc-slats"><table>'+this.slatRowHtml()+"<\/table><\/div>"},slotBgCellHtml:function(n,t,i){return this.bgCellHtml(n,t,i)},slatRowHtml:function(){for(var n=this.view,h=n.calendar,o=n.opt("isRTL"),s="",c=this.slotDuration.asMinutes()%15==0,i=t.duration(+this.minTime),u,f,e;i<this.maxTime;)u=n.start.clone().time(i),f=u.minutes(),e='<td class="fc-axis fc-time '+n.widgetContentClass+'" '+n.axisStyleAttr()+">"+(!c||!f?"<span>"+r(h.formatDate(u,n.opt("axisFormat")))+"<\/span>":"")+"<\/td>",s+="<tr "+(f?'class="fc-minor"':"")+">"+(o?"":e)+'<td class="'+n.widgetContentClass+'"/>'+(o?e:"")+"<\/tr>",i.add(this.slotDuration);return s},processOptions:function(){var i=this.view,r=i.opt("slotDuration"),n=i.opt("snapDuration");r=t.duration(r);n=n?t.duration(n):r;this.slotDuration=r;this.snapDuration=n;this.cellDuration=n;this.minTime=t.duration(i.opt("minTime"));this.maxTime=t.duration(i.opt("maxTime"))},rangeToSegs:function(n,t){var f=this.view,e=[],r,i,u,o,s;for(n=n.clone().stripZone(),t=t.clone().stripZone(),i=0;i<f.colCnt;i++)u=f.cellToDate(0,i),o=u.clone().time(this.minTime),s=u.clone().time(this.maxTime),r=wi(n,t,o,s),r&&(r.col=i,e.push(r));return e},resize:function(){this.computeSlatTops();this.updateSegVerticals()},buildCoords:function(i,r){var h=this.view.colCnt,s=this.el.offset().top,e=t.duration(+this.minTime),u=null,o,f;for(this.dayEls.slice(0,h).each(function(t,i){o=n(i);f=o.offset().left;u&&(u[1]=f);u=[f];r[t]=u}),u[1]=f+o.outerWidth(),u=null;e<this.maxTime;)f=s+this.computeTimeTop(e),u&&(u[1]=f),u=[f],i.push(u),e.add(this.snapDuration);u[1]=s+this.computeTimeTop(e)},getCellDate:function(n){var t=this.view,i=t.calendar;return i.rezoneDate(t.cellToDate(0,n.col).time(this.minTime+this.snapDuration*n.row))},getCellDayEl:function(n){return this.dayEls.eq(n.col)},computeDateTop:function(n,i){return this.computeTimeTop(t.duration(n.clone().stripZone()-i.clone().stripTime()))},computeTimeTop:function(n){var t=(n-this.minTime)/this.slotDuration,i,u,r,f;return t=Math.max(0,t),t=Math.min(this.slatEls.length,t),i=Math.floor(t),u=t-i,r=this.slatTops[i],u?(f=this.slatTops[i+1],r+(f-r)*u):r},computeSlatTops:function(){var t=[],i;this.slatEls.each(function(r,u){i=n(u).position().top;t.push(i)});t.push(i+this.slatEls.last().outerHeight());this.slatTops=t},renderDrag:function(n,t,i){var r;if(i)return this.renderRangeHelper(n,t,i),r=this.view.opt("dragOpacity"),r!==undefined&&this.helperEl.css("opacity",r),!0;this.renderHighlight(n,t||this.view.calendar.getDefaultEventEnd(!1,n))},destroyDrag:function(){this.destroyHelper();this.destroyHighlight()},renderResize:function(n,t,i){this.renderRangeHelper(n,t,i)},destroyResize:function(){this.destroyHelper()},renderHelper:function(t,i){var r=this.eventsToSegs([t]),o,f,e,u;for(r=this.renderFgSegEls(r),o=this.renderSegTable(r),f=0;f<r.length;f++)e=r[f],i&&i.col===e.col&&(u=i.el,e.el.css({left:u.css("left"),right:u.css("right"),"margin-left":u.css("margin-left"),"margin-right":u.css("margin-right")}));this.helperEl=n('<div class="fc-helper-skeleton"/>').append(o).appendTo(this.el)},destroyHelper:function(){this.helperEl&&(this.helperEl.remove(),this.helperEl=null)},renderSelection:function(n,t){this.view.opt("selectHelper")?this.renderRangeHelper(n,t):this.renderHighlight(n,t)},destroySelection:function(){this.destroyHelper();this.destroyHighlight()},renderFill:function(t,i,r){var y=this.view,h,f,c,u,e,a,v,l,o,s;if(i.length){for(i=this.renderFillSegEls(t,i),h=this.groupSegCols(i),r=r||t.toLowerCase(),f=n('<div class="fc-'+r+'-skeleton"><table><tr/><\/table><\/div>'),c=f.find("tr"),u=0;u<h.length;u++)if(e=h[u],a=n("<td/>").appendTo(c),e.length)for(v=n('<div class="fc-'+r+'-container"/>').appendTo(a),l=y.cellToDate(0,u),o=0;o<e.length;o++)s=e[o],v.append(s.el.css({top:this.computeDateTop(s.start,l),bottom:-this.computeDateTop(s.end,l)}));this.bookendCells(c,t);this.el.append(f);this.elsByFill[t]=f}return i}});n.extend(ut.prototype,{eventSkeletonEl:null,renderFgSegs:function(t){return t=this.renderFgSegEls(t),this.el.append(this.eventSkeletonEl=n('<div class="fc-content-skeleton"/>').append(this.renderSegTable(t))),t},destroyFgSegs:function(){this.eventSkeletonEl&&(this.eventSkeletonEl.remove(),this.eventSkeletonEl=null)},renderSegTable:function(t){var s=n("<table><tr/><\/table>"),h=s.find("tr"),e,r,i,u,f,o;for(e=this.groupSegCols(t),this.computeSegVerticals(t),u=0;u<e.length;u++){for(f=e[u],yu(f),o=n('<div class="fc-event-container"/>'),r=0;r<f.length;r++)i=f[r],i.el.css(this.generateSegPositionCss(i)),i.bottom-i.top<30&&i.el.addClass("fc-short"),o.append(i.el);h.append(n("<td/>").append(o))}return this.bookendCells(h,"eventSkeleton"),s},updateSegVerticals:function(){var t=(this.segs||[]).concat(this.businessHourSegs||[]),n;for(this.computeSegVerticals(t),n=0;n<t.length;n++)t[n].el.css(this.generateSegVerticalCss(t[n]))},computeSegVerticals:function(n){for(var t,i=0;i<n.length;i++)t=n[i],t.top=this.computeDateTop(t.start,t.start),t.bottom=this.computeDateTop(t.end,t.start)},fgSegHtml:function(n,t){var u=this.view,i=n.event,l=u.isEventDraggable(i),s=!t&&n.isEnd&&u.isEventResizable(i),h=this.getSegClasses(n,l,s),c=this.getEventSkinCss(i),f,e,o;return h.unshift("fc-time-grid-event"),u.isMultiDayEvent(i)?(n.isStart||n.isEnd)&&(f=u.getEventTimeText(n.start,n.end),e=u.getEventTimeText(n.start,n.end,"LT"),o=u.getEventTimeText(n.start,null)):(f=u.getEventTimeText(i),e=u.getEventTimeText(i,"LT"),o=u.getEventTimeText(i.start,null)),'<a class="'+h.join(" ")+'"'+(i.url?' href="'+r(i.url)+'"':"")+(c?' style="'+c+'"':"")+'><div class="fc-content">'+(f?'<div class="fc-time" data-start="'+r(o)+'" data-full="'+r(e)+'"><span>'+r(f)+"<\/span><\/div>":"")+(i.title?'<div class="fc-title">'+r(i.title)+"<\/div>":"")+'<\/div><div class="fc-bg"/>'+(s?'<div class="fc-resizer"/>':"")+"<\/a>"},generateSegPositionCss:function(n){var e=this.view,o=e.opt("isRTL"),s=e.opt("slotEventOverlap"),i=n.backwardCoord,r=n.forwardCoord,t=this.generateSegVerticalCss(n),u,f;return s&&(r=Math.min(1,i+(r-i)*2)),o?(u=1-r,f=i):(u=i,f=1-r),t.zIndex=n.level+1,t.left=u*100+"%",t.right=f*100+"%",s&&n.forwardPressure&&(t[o?"marginLeft":"marginRight"]=20),t},generateSegVerticalCss:function(n){return{top:n.top,bottom:-n.bottom}},groupSegCols:function(n){for(var r=this.view,i=[],t=0;t<r.colCnt;t++)i.push([]);for(t=0;t<n.length;t++)i[n[t].col].push(n[t]);return i}});e.prototype={calendar:null,coordMap:null,el:null,start:null,end:null,intervalStart:null,intervalEnd:null,rowCnt:null,colCnt:null,isSelected:!1,scrollerEl:null,scrollTop:null,widgetHeaderClass:null,widgetContentClass:null,highlightStateClass:null,documentMousedownProxy:null,documentDragStartProxy:null,init:function(){var t=this.opt("theme")?"ui":"fc";this.widgetHeaderClass=t+"-widget-header";this.widgetContentClass=t+"-widget-content";this.highlightStateClass=t+"-state-highlight";this.documentMousedownProxy=n.proxy(this,"documentMousedown");this.documentDragStartProxy=n.proxy(this,"documentDragStart")},render:function(){this.updateSize();this.trigger("viewRender",this,this,this.el);n(document).on("mousedown",this.documentMousedownProxy).on("dragstart",this.documentDragStartProxy)},destroy:function(){this.unselect();this.trigger("viewDestroy",this,this,this.el);this.destroyEvents();this.el.empty();n(document).off("mousedown",this.documentMousedownProxy).off("dragstart",this.documentDragStartProxy)},incrementDate:function(){},updateSize:function(n){n&&this.recordScroll();this.updateHeight();this.updateWidth()},updateWidth:function(){},updateHeight:function(){var n=this.calendar;this.setHeight(n.getSuggestedViewHeight(),n.isHeightAuto())},setHeight:function(){},computeScrollerHeight:function(n){var t=this.el.add(this.scrollerEl),i;return t.css({position:"relative",left:-1}),i=this.el.outerHeight()-this.scrollerEl.height(),t.css({position:"",left:""}),n-i},recordScroll:function(){this.scrollerEl&&(this.scrollTop=this.scrollerEl.scrollTop())},restoreScroll:function(){this.scrollTop!==null&&this.scrollerEl.scrollTop(this.scrollTop)},renderEvents:function(){this.segEach(function(n){this.trigger("eventAfterRender",n.event,n.event,n.el)});this.trigger("eventAfterAllRender")},destroyEvents:function(){this.segEach(function(n){this.trigger("eventDestroy",n.event,n.event,n.el)})},resolveEventEl:function(t,i){var r=this.trigger("eventRender",t,t,i);return r===!1?i=null:r&&r!==!0&&(i=n(r)),i},showEvent:function(n){this.segEach(function(n){n.el.css("visibility","")},n)},hideEvent:function(n){this.segEach(function(n){n.el.css("visibility","hidden")},n)},segEach:function(n,t){for(var r=this.getSegs(),i=0;i<r.length;i++)t&&r[i].event._id!==t._id||n.call(this,r[i])},getSegs:function(){},renderDrag:function(){},destroyDrag:function(){},documentDragStart:function(t){var e=this,s=this.calendar,i=null,h=null,c=null,u,o,r,f,l;if(this.opt("droppable")&&(u=n(t.target),o=this.opt("dropAccept"),n.isFunction(o)?o.call(u[0],u):u.is(o))){r=du(u);f=r.eventProps;l=new nt(this.coordMap,{cellOver:function(t,u){i=u;h=r.duration?i.clone().add(r.duration):null;c=h||s.getDefaultEventEnd(!i.hasTime(),i);f&&n.extend(f,{start:i,end:h});s.isExternalDragAllowedInRange(i,c,f)?e.renderDrag(i,c):(i=null,tt())},cellOut:function(){i=null;e.destroyDrag();v()}});n(document).one("dragstop",function(n,t){var o;e.destroyDrag();v();i&&(r.startTime&&!i.hasTime()&&i.time(r.startTime),e.trigger("drop",u[0],i,n,t),f&&(o=s.renderEvent(f,r.stick),e.trigger("eventReceive",null,o[0])))});l.startDrag(t)}},select:function(n,t,i){this.unselect(i);this.renderSelection(n,t);this.reportSelection(n,t,i)},renderSelection:function(){},reportSelection:function(n,t,i){this.isSelected=!0;this.trigger("select",null,n,t,i)},unselect:function(n){this.isSelected&&(this.isSelected=!1,this.destroySelection(),this.trigger("unselect",null,n))},destroySelection:function(){},documentMousedown:function(t){var i;this.isSelected&&this.opt("unselectAuto")&&pi(t)&&(i=this.opt("unselectCancel"),i&&n(t.target).closest(i).length||this.unselect(t))}};i.dataAttrPrefix="";o.prototype=u(e.prototype);n.extend(o.prototype,{dayGrid:null,dayNumbersVisible:!1,weekNumbersVisible:!1,weekNumberWidth:null,headRowEl:null,render:function(n,t,i){this.rowCnt=n;this.colCnt=t;this.dayNumbersVisible=i;this.weekNumbersVisible=this.opt("weekNumbers");this.dayGrid.numbersVisible=this.dayNumbersVisible||this.weekNumbersVisible;this.el.addClass("fc-basic-view").html(this.renderHtml());this.headRowEl=this.el.find("thead .fc-row");this.scrollerEl=this.el.find(".fc-day-grid-container");this.dayGrid.coordMap.containerEl=this.scrollerEl;this.dayGrid.el=this.el.find(".fc-day-grid");this.dayGrid.render(this.hasRigidRows());e.prototype.render.call(this)},destroy:function(){this.dayGrid.destroy();e.prototype.destroy.call(this)},renderHtml:function(){return'<table><thead><tr><td class="'+this.widgetHeaderClass+'">'+this.dayGrid.headHtml()+'<\/td><\/tr><\/thead><tbody><tr><td class="'+this.widgetContentClass+'"><div class="fc-day-grid-container"><div class="fc-day-grid"/><\/div><\/td><\/tr><\/tbody><\/table>'},headIntroHtml:function(){if(this.weekNumbersVisible)return'<th class="fc-week-number '+this.widgetHeaderClass+'" '+this.weekNumberStyleAttr()+"><span>"+r(this.opt("weekNumberTitle"))+"<\/span><\/th>"},numberIntroHtml:function(n){if(this.weekNumbersVisible)return'<td class="fc-week-number" '+this.weekNumberStyleAttr()+"><span>"+this.calendar.calculateWeekNumber(this.cellToDate(n,0))+"<\/span><\/td>"},dayIntroHtml:function(){if(this.weekNumbersVisible)return'<td class="fc-week-number '+this.widgetContentClass+'" '+this.weekNumberStyleAttr()+"><\/td>"},introHtml:function(){if(this.weekNumbersVisible)return'<td class="fc-week-number" '+this.weekNumberStyleAttr()+"><\/td>"},numberCellHtml:function(n,t,i){var r;return this.dayNumbersVisible?(r=this.dayGrid.getDayClasses(i),r.unshift("fc-day-number"),'<td class="'+r.join(" ")+'" data-date="'+i.format()+'">'+i.date()+"<\/td>"):"<td/>"},weekNumberStyleAttr:function(){return this.weekNumberWidth!==null?'style="width:'+this.weekNumberWidth+'px"':""},hasRigidRows:function(){var n=this.opt("eventLimit");return n&&typeof n!="number"},updateWidth:function(){this.weekNumbersVisible&&(this.weekNumberWidth=li(this.el.find(".fc-week-number")))},setHeight:function(n,t){var i=this.opt("eventLimit"),r;et(this.scrollerEl);si(this.headRowEl);this.dayGrid.destroySegPopover();i&&typeof i=="number"&&this.dayGrid.limitRows(i);r=this.computeScrollerHeight(n);this.setGridHeight(r,t);i&&typeof i!="number"&&this.dayGrid.limitRows(i);!t&&ai(this.scrollerEl,r)&&(oi(this.headRowEl,yi(this.scrollerEl)),r=this.computeScrollerHeight(n),this.scrollerEl.height(r),this.restoreScroll())},setGridHeight:function(n,t){t?ci(this.dayGrid.rowEls):hi(this.dayGrid.rowEls,n,!0)},renderEvents:function(n){this.dayGrid.renderEvents(n);this.updateHeight();e.prototype.renderEvents.call(this,n)},getSegs:function(){return this.dayGrid.getSegs()},destroyEvents:function(){e.prototype.destroyEvents.call(this);this.recordScroll();this.dayGrid.destroyEvents()},renderDrag:function(n,t,i){return this.dayGrid.renderDrag(n,t,i)},destroyDrag:function(){this.dayGrid.destroyDrag()},renderSelection:function(n,t){this.dayGrid.renderSelection(n,t)},destroySelection:function(){this.dayGrid.destroySelection()}});ri({fixedWeekCount:!0});l.month=kt;kt.prototype=u(o.prototype);n.extend(kt.prototype,{name:"month",incrementDate:function(n,t){return n.clone().stripTime().add(t,"months").startOf("month")},render:function(n){var t;this.intervalStart=n.clone().stripTime().startOf("month");this.intervalEnd=this.intervalStart.clone().add(1,"months");this.start=this.intervalStart.clone();this.start=this.skipHiddenDays(this.start);this.start.startOf("week");this.start=this.skipHiddenDays(this.start);this.end=this.intervalEnd.clone();this.end=this.skipHiddenDays(this.end,-1,!0);this.end.add((7-this.end.weekday())%7,"days");this.end=this.skipHiddenDays(this.end,-1,!0);t=Math.ceil(this.end.diff(this.start,"weeks",!0));this.isFixedWeeks()&&(this.end.add(6-t,"weeks"),t=6);this.title=this.calendar.formatDate(this.intervalStart,this.opt("titleFormat"));o.prototype.render.call(this,t,this.getCellsPerWeek(),!0)},setGridHeight:function(n,t){t=t||this.opt("weekMode")==="variable";t&&(n*=this.rowCnt/6);hi(this.dayGrid.rowEls,n,!t)},isFixedWeeks:function(){var n=this.opt("weekMode");return n?n==="fixed":this.opt("fixedWeekCount")}});l.basicWeek=dt;dt.prototype=u(o.prototype);n.extend(dt.prototype,{name:"basicWeek",incrementDate:function(n,t){return n.clone().stripTime().add(t,"weeks").startOf("week")},render:function(n){this.intervalStart=n.clone().stripTime().startOf("week");this.intervalEnd=this.intervalStart.clone().add(1,"weeks");this.start=this.skipHiddenDays(this.intervalStart);this.end=this.skipHiddenDays(this.intervalEnd,-1,!0);this.title=this.calendar.formatRange(this.start,this.end.clone().subtract(1),this.opt("titleFormat")," — ");o.prototype.render.call(this,1,this.getCellsPerWeek(),!1)}});l.basicDay=gt;gt.prototype=u(o.prototype);n.extend(gt.prototype,{name:"basicDay",incrementDate:function(n,t){var i=n.clone().stripTime().add(t,"days");return this.skipHiddenDays(i,t<0?-1:1)},render:function(n){this.start=this.intervalStart=n.clone().stripTime();this.end=this.intervalEnd=this.start.clone().add(1,"days");this.title=this.calendar.formatDate(this.start,this.opt("titleFormat"));o.prototype.render.call(this,1,1,!1)}});l.list=ni;ni.prototype=u(o.prototype);n.extend(ni.prototype,{name:"list",incrementDate:function(n,t){return n.clone().stripTime().add(t,"months").startOf("month")},render:function(n){var t;this.intervalStart=n.clone().stripTime().startOf("month");this.intervalEnd=this.intervalStart.clone().add(1,"months");this.start=this.intervalStart.clone();this.end=this.intervalEnd.clone();t=Math.ceil(this.end.diff(this.start,"weeks",!0));this.title=this.calendar.formatDate(this.intervalStart,this.opt("titleFormat"));o.prototype.render.call(this,t,this.getCellsPerWeek(),!0)},isFixedWeeks:function(){var n=this.opt("weekMode");return n?n==="fixed":this.opt("fixedWeekCount")}});ri({allDaySlot:!0,allDayText:"all-day",scrollTime:"06:00:00",slotDuration:"00:30:00",axisFormat:gu,timeFormat:{agenda:nf},minTime:"00:00:00",maxTime:"24:00:00",slotEventOverlap:!0});br=5;p.prototype=u(e.prototype);n.extend(p.prototype,{timeGrid:null,dayGrid:null,axisWidth:null,noScrollRowEls:null,bottomRuleEl:null,bottomRuleHeight:null,render:function(t){this.rowCnt=1;this.colCnt=t;this.el.addClass("fc-agenda-view").html(this.renderHtml());this.scrollerEl=this.el.find(".fc-time-grid-container");this.timeGrid.coordMap.containerEl=this.scrollerEl;this.timeGrid.el=this.el.find(".fc-time-grid");this.timeGrid.render();this.bottomRuleEl=n('<hr class="'+this.widgetHeaderClass+'"/>').appendTo(this.timeGrid.el);this.dayGrid&&(this.dayGrid.el=this.el.find(".fc-day-grid"),this.dayGrid.render(),this.dayGrid.bottomCoordPadding=this.dayGrid.el.next("hr").outerHeight());this.noScrollRowEls=this.el.find(".fc-row:not(.fc-scroller *)");e.prototype.render.call(this);this.resetScroll()},destroy:function(){this.timeGrid.destroy();this.dayGrid&&this.dayGrid.destroy();e.prototype.destroy.call(this)},renderHtml:function(){return'<table><thead><tr><td class="'+this.widgetHeaderClass+'">'+this.timeGrid.headHtml()+'<\/td><\/tr><\/thead><tbody><tr><td class="'+this.widgetContentClass+'">'+(this.dayGrid?'<div class="fc-day-grid"/><hr class="'+this.widgetHeaderClass+'"/>':"")+'<div class="fc-time-grid-container"><div class="fc-time-grid"/><\/div><\/td><\/tr><\/tbody><\/table>'},headIntroHtml:function(){var i,n,t,u;return this.opt("weekNumbers")?(i=this.cellToDate(0,0),n=this.calendar.calculateWeekNumber(i),t=this.opt("weekNumberTitle"),u=this.opt("isRTL")?n+t:t+n,'<th class="fc-axis fc-week-number '+this.widgetHeaderClass+'" '+this.axisStyleAttr()+"><span>"+r(u)+"<\/span><\/th>"):'<th class="fc-axis '+this.widgetHeaderClass+'" '+this.axisStyleAttr()+"><\/th>"},dayIntroHtml:function(){return'<td class="fc-axis '+this.widgetContentClass+'" '+this.axisStyleAttr()+"><span>"+(this.opt("allDayHtml")||r(this.opt("allDayText")))+"<\/span><\/td>"},slotBgIntroHtml:function(){return'<td class="fc-axis '+this.widgetContentClass+'" '+this.axisStyleAttr()+"><\/td>"},introHtml:function(){return'<td class="fc-axis" '+this.axisStyleAttr()+"><\/td>"},axisStyleAttr:function(){return this.axisWidth!==null?'style="width:'+this.axisWidth+'px"':""},updateSize:function(n){n&&this.timeGrid.resize();e.prototype.updateSize.call(this,n)},updateWidth:function(){this.axisWidth=li(this.el.find(".fc-axis"))},setHeight:function(n,t){var i,r;this.bottomRuleHeight===null&&(this.bottomRuleHeight=this.bottomRuleEl.outerHeight());this.bottomRuleEl.hide();this.scrollerEl.css("overflow","");et(this.scrollerEl);si(this.noScrollRowEls);this.dayGrid&&(this.dayGrid.destroySegPopover(),i=this.opt("eventLimit"),i&&typeof i!="number"&&(i=br),i&&this.dayGrid.limitRows(i));t||(r=this.computeScrollerHeight(n),ai(this.scrollerEl,r)?(oi(this.noScrollRowEls,yi(this.scrollerEl)),r=this.computeScrollerHeight(n),this.scrollerEl.height(r),this.restoreScroll()):(this.scrollerEl.height(r).css("overflow","hidden"),this.bottomRuleEl.show()))},resetScroll:function(){function i(){r.scrollerEl.scrollTop(n)}var r=this,u=t.duration(this.opt("scrollTime")),n=this.timeGrid.computeTimeTop(u);n=Math.ceil(n);n&&n++;i();setTimeout(i,0)},renderEvents:function(n){for(var i=[],r=[],u=[],f,t=0;t<n.length;t++)n[t].allDay?i.push(n[t]):r.push(n[t]);f=this.timeGrid.renderEvents(r);this.dayGrid&&(u=this.dayGrid.renderEvents(i));this.updateHeight();e.prototype.renderEvents.call(this,n)},getSegs:function(){return this.timeGrid.getSegs().concat(this.dayGrid?this.dayGrid.getSegs():[])},destroyEvents:function(){e.prototype.destroyEvents.call(this);this.recordScroll();this.timeGrid.destroyEvents();this.dayGrid&&this.dayGrid.destroyEvents()},renderDrag:function(n,t,i){return n.hasTime()?this.timeGrid.renderDrag(n,t,i):this.dayGrid?this.dayGrid.renderDrag(n,t,i):void 0},destroyDrag:function(){this.timeGrid.destroyDrag();this.dayGrid&&this.dayGrid.destroyDrag()},renderSelection:function(n,t){n.hasTime()||t.hasTime()?this.timeGrid.renderSelection(n,t):this.dayGrid&&this.dayGrid.renderSelection(n,t)},destroySelection:function(){this.timeGrid.destroySelection();this.dayGrid&&this.dayGrid.destroySelection()}});l.agendaWeek=ti;ti.prototype=u(p.prototype);n.extend(ti.prototype,{name:"agendaWeek",incrementDate:function(n,t){return n.clone().stripTime().add(t,"weeks").startOf("week")},render:function(n){this.intervalStart=n.clone().stripTime().startOf("week");this.intervalEnd=this.intervalStart.clone().add(1,"weeks");this.start=this.skipHiddenDays(this.intervalStart);this.end=this.skipHiddenDays(this.intervalEnd,-1,!0);this.title=this.calendar.formatRange(this.start,this.end.clone().subtract(1),this.opt("titleFormat")," — ");p.prototype.render.call(this,this.getCellsPerWeek())}});l.agendaDay=ii;ii.prototype=u(p.prototype);n.extend(ii.prototype,{name:"agendaDay",incrementDate:function(n,t){var i=n.clone().stripTime().add(t,"days");return this.skipHiddenDays(i,t<0?-1:1)},render:function(n){this.start=this.intervalStart=n.clone().stripTime();this.end=this.intervalEnd=this.start.clone().add(1,"days");this.title=this.calendar.formatDate(this.start,this.opt("titleFormat"));p.prototype.render.call(this,1)}})});var _stscms_09ArticleCalendar_CategoryDataKey="categories",_stscms_09ArticleCalendar_LoadingCssClass="loading",_stscms_09ArticleCalendar_HiddenCssClass="hidden",_stscms_09ArticleCalendar_WrapperIDBaseSelector="ArticleCalendarJSWrapper_",_stscms_09ArticleCalendar_ControlIDRenderVersion={},_stscms_09ArticleCalendar_AccessLinkQueryStringKey="09_ac_acs",_stscms_09ArticleCalendar_Instances=[];stscms_11ArticleCalendarList_Controls={};stscms_11ArticleCalendarList.prototype.init=function(){var n=$("#"+this._controlContainerSelector);this.setPreviousBtnEventHandlers(n);this.setNextBtnEventHandlers(n)};stscms_11ArticleCalendarList.prototype.setPreviousBtnEventHandlers=function(n){var t=this;n.find("input.previousBtn").click(function(){return t.addMonthToDate(t._currentDate,-1),t.renderCalendarList(),!1})};stscms_11ArticleCalendarList.prototype.setNextBtnEventHandlers=function(n){var t=this;n.find("input.nextBtn").click(function(){return t.addMonthToDate(t._currentDate,1),t.renderCalendarList(),!1})};stscms_11ArticleCalendarList.prototype.addMonthToDate=function(n,t){n.add(t,"M")};stscms_11ArticleCalendarList.prototype.renderCalendarList=function(){var u,i,n=this,e=n._currentDate,o=n._controlID,f=n._currentCategories,t=$("#"+n._controlContainerSelector),r;r=t.find(".ajaxloading");r.removeClass("hidden");i={StartDate:e.format("YYYY-MM-DD")};f!=null&&(i.DisplayArticleCategories=f);u=sts_GetPageHtml(o,i,function(i){t.replaceWith(i);t=$("#"+n._controlContainerSelector);n.setPreviousBtnEventHandlers(t);n.setNextBtnEventHandlers(t);n._ajaxRefreshedCallback&&n._ajaxRefreshedCallback(n._controlContainerSelector)});u.fail(function(){r.addClass("hidden");t.find(".ajaxerror").removeClass("hidden")})},function(n){n.fn.tipTip=function(t){var e={activation:"hover",keepAlive:!1,maxWidth:"200px",edgeOffset:3,defaultPosition:"bottom",delay:400,fadeIn:200,fadeOut:200,attribute:"title",content:!1,enter:function(){},exit:function(){}},i=n.extend(e,t);if(n("#tiptip_holder").length<=0){var r=n('<div id="tiptip_holder" style="max-width:'+i.maxWidth+';"><\/div>'),f=n('<div id="tiptip_content"><\/div>'),u=n('<div id="tiptip_arrow"><\/div>');n("body").append(r.html(f).prepend(u.html('<div id="tiptip_arrow_inner"><\/div>')))}else var r=n("#tiptip_holder"),f=n("#tiptip_content"),u=n("#tiptip_arrow");return this.each(function(){var t=n(this),s,e;if(s=i.content?i.content:t.attr(i.attribute),s!=""){i.content||t.removeAttr(i.attribute);e=!1;i.activation=="hover"?(t.hover(function(){h()},function(){i.keepAlive||o()}),i.keepAlive&&r.hover(function(){},function(){o()})):i.activation=="focus"?t.focus(function(){h()}).blur(function(){o()}):i.activation=="click"&&(t.click(function(){return h(),!1}).hover(function(){},function(){i.keepAlive||o()}),i.keepAlive&&r.hover(function(){},function(){o()}));function h(){var nt,tt,k,d;i.enter.call(this);f.html(s);r.hide().removeAttr("class").css("margin","0");u.removeAttr("style");var c=parseInt(t.offset().top),a=parseInt(t.offset().left),it=parseInt(t.outerWidth()),y=parseInt(t.outerHeight()),v=r.outerWidth(),l=r.outerHeight(),b=Math.round((it-v)/2),rt=Math.round((y-l)/2),p=Math.round(a+b),h=Math.round(c+y+i.edgeOffset),o="",w="",g=Math.round(v-12)/2;i.defaultPosition=="bottom"?o="_bottom":i.defaultPosition=="top"?o="_top":i.defaultPosition=="left"?o="_left":i.defaultPosition=="right"&&(o="_right");nt=b+a<parseInt(n(window).scrollLeft());tt=v+a>parseInt(n(window).width());nt&&b<0||o=="_right"&&!tt||o=="_left"&&a<v+i.edgeOffset+5?(o="_right",w=Math.round(l-13)/2,g=-12,p=Math.round(a+it+i.edgeOffset),h=Math.round(c+rt)):(tt&&b<0||o=="_left"&&!nt)&&(o="_left",w=Math.round(l-13)/2,g=Math.round(v),p=Math.round(a-(v+i.edgeOffset+5)),h=Math.round(c+rt));k=c+y+i.edgeOffset+l+8>parseInt(n(window).height()+n(window).scrollTop());d=c+y-(i.edgeOffset+l+8)<0;k||o=="_bottom"&&k||o=="_top"&&!d?(o=o=="_top"||o=="_bottom"?"_top":o+"_top",w=l,h=Math.round(c-(l+5+i.edgeOffset))):(d|(o=="_top"&&d)||o=="_bottom"&&!k)&&(o=o=="_top"||o=="_bottom"?"_bottom":o+"_bottom",w=-12,h=Math.round(c+y+i.edgeOffset));o=="_right_top"||o=="_left_top"?h=h+5:(o=="_right_bottom"||o=="_left_bottom")&&(h=h-5);(o=="_left_top"||o=="_left_bottom")&&(p=p+5);u.css({"margin-left":g+"px","margin-top":w+"px"});r.css({"margin-left":p+"px","margin-top":h+"px"}).attr("class","tip"+o);e&&clearTimeout(e);e=setTimeout(function(){r.stop(!0,!0).fadeIn(i.fadeIn)},i.delay)}function o(){i.exit.call(this);e&&clearTimeout(e);r.fadeOut(i.fadeOut)}}})}}(jQuery)