function onYouTubeIframeAPIReady(){initYouTubeVideos(".modalCarousel div.js-youtube");initHtml5Videos(".modalCarousel div.js-html5video");var n=$(".modalCarousel");videoSignpost().resizeVids(n)}var addthis_config=addthis_config||{},videoSignpost;addthis_config.data_track_addressbar=!1;addthis_config.data_track_clickback=!1;addthis_config.services_compact="facebook, messenger, twitter, linkedin, pinterest_share, email, gmail, mailto";$(document).ready(function(){svg4everybody();var n=$(".videoModal");videoSignpost().init(n)});videoSignpost=function(){var i={carousels:[],structured:[]},n={checkIfExists:function(n){return n.length!==0?!0:!1},addDataPrefix:function(n,t){return t=t||"data-",t+n},stripDataPrefix:function(n,t){return t=t||"data-",n.replace(t,"")},createObject:function(t,i){$.each(t,function(){i[n.stripDataPrefix(this.name)]=this.value;return})},wrapAsObject:function(n,t){var i={};return i[n]=t,i},checkIfObjectIsEmpty:function(n){for(var t in n)if(n.hasOwnProperty(t))return!1;return!0},templatingEngine:function(n,t){if(typeof t=="object")for(var i in t)n=n.replace(new RegExp("{"+i+"}","g"),t[i]);return n}},t={checkForModals:function(i){var r=$(i);n.checkIfExists(r)&&t.buildDataObject(r)},buildDataObject:function(r){$.each(r,function(r){var f=$(this),u;t.attachModalEventHandlers(f,r);u=f.find(".slide");i.carousels[r]=[];n.checkIfExists(u)&&$.each(u,function(t){var u=$(this),f={},e={},o=n.checkIfExists(u.find("div"))?u.find("div").get(0).attributes:[],s=n.checkIfExists(u.find("img"))?u.find("img").get(0).attributes:[];n.createObject(o,f);n.createObject(s,e);i.carousels[r][t]={video:f,cover:e}})});t.generateTemplates(i.carousels)},generateTemplates:function(r){return $.each(r,function(t){var r=$(this);i.structured[t]=[];$.each(r,function(r){var s=$(this),f=s[0].video,h=s[0].cover,u={},e,o,c;if(!n.checkIfObjectIsEmpty(f)){for(e in f)o=f[e],e==="type"&&o=="html5"&&(u.video=n.templatingEngine(videoTemplates.video.html5,f)),e==="type"&&o=="youtube"&&(u.video=n.templatingEngine(videoTemplates.video.youtube,f));u.caption=n.templatingEngine(videoTemplates.caption,f);u.description=n.templatingEngine(videoTemplates.description,f);n.checkIfObjectIsEmpty(h)?(u.cover="",u.overlay=""):(u.cover=n.templatingEngine(videoTemplates.cover,h),u.overlay=n.templatingEngine(videoTemplates.overlay,n.wrapAsObject("cover",u.cover)));u.aspect="aspect"+f.aspect;c={overlay:u.overlay,video:u.video,caption:u.caption,description:u.description,aspect:u.aspect};u.slide=n.templatingEngine(videoTemplates.slide,c);i.structured[t][r]=u.slide}})}),t.generateCarousels(i.structured)},generateCarousels:function(i){var r=[];return i.forEach(function(t,i){var u="",e=t.length,f;t.forEach(function(n){u+=n});f={indexNumber:i,carouselContent:u,slideCount:e};r[i]=n.templatingEngine(videoTemplates.carousel,f)}),t.attachContent(r)},attachContent:function(n){n.forEach(function(n){var i=$(n),r=i.find(".carousel .slides"),f=i.find(".arrowButtonWrap button"),e=i.find(".prev"),o=i.find(".next"),u={centerMode:!0,infinite:!1,slidesToShow:1,slidesToScroll:1,dots:!1,arrows:!0,fade:!1,variableWidth:!0,prevArrow:e,nextArrow:o,draggable:!1,responsive:[{breakpoint:720,settings:"unslick"}]};return $("body").append(i),r.slick(u),requestResizeAnimation(function(){windowValues.width>=720&&!r.hasClass("slick-initialized")&&(r.slick(u),t.updateDisplayData(r),t.updateShareDataAttributes(i),t.attachCarouselEventHandlers(i));windowValues.width<720&&r.hasClass("slick-initialized")&&f.off()}),t.attachCarouselEventHandlers(i)})},attachCarouselEventHandlers:function(n){var i=n,r=n.find("#js-close"),u=n.find(".slide"),f=n.find(".slick-arrow");r.on({click:function(n){n.preventDefault();$("body").removeClass("noScroll");i.removeClass("overlayOpen");t.pauseOtherVideosOnClick(i)}});f.on({click:function(){t.updateDisplayData($(this));t.updateShareDataAttributes(i);t.pauseOtherVideosOnClick(i)}});u.on({click:function(){var n=$(this);hideVideoOverlay(n)}})},attachModalEventHandlers:function(n,i){var r=n.parent(".videoSignpost").find(".overlay");r.attr("data-carousel","carousel"+i);return r.on({click:function(n){n.preventDefault();var r=$(this).attr("data-carousel"),i=$("#"+r),u=i.find(".slick-current"),f=i.find(".captionWrapper"),e=u.find(".caption").text();$(window).trigger("resize");$("body").addClass("noScroll");i.addClass("overlayOpen");t.updateShareDataAttributes(i);f.text(e)}})},updateShareDataAttributes:function(t){var r=$(t),c=r.find(".slick-initialized"),u,h;u=c.length!==0?r.find(".slick-current"):r.find(".slide").first();var e=window.location.protocol+"//"+window.location.hostname,l=r.find(".buttons"),o=r.find(".addthis_inline_share_toolbox"),s=u.find("img"),f=u.find(".videoPlayer"),i={};return n.checkIfExists(o)&&o.remove(),i.media=n.checkIfExists(s)?e+s.attr("src"):"",i.title=u.find(".caption").text(),i.description=u.find(".description").text(),f.hasClass("html5")?i.url=e+f.attr("src"):f.hasClass("youtube")&&(i.url=f.attr("src")),h=$('<div class="btn share btn-raised btn-icon-left btn-share addthis_inline_share_toolbox" data-title="'+i.title+'" data-media="'+i.media+'" data-url="'+i.url+'" data-description="'+i.description+'"><aside class="icon"><\/aside>'+StatusCmsLanguageConfig.VideoStrategy.share+"<\/div>"),l.append(h),addthis.layers.refresh()},pauseOtherVideosOnClick:function(n){var t=n.find(".slide");return $.each(t,function(){var n=$(this).find(".videoPlayer"),t;n.hasClass("html5")?(t=n.contents().find("#player").get(0),pauseHtmlVideo(t)):n.hasClass("youtube")&&pauseYTVideosByParent(youTubePlayers)})},updateDisplayData:function(n){var t=n.closest(".modalCarousel"),i=t.find(".slick-current"),r=t.find(".captionWrapper"),u=i.find(".caption").text(),f=i.attr("data-slick-index"),e=t.find("#js-currentItem");e.text(parseInt(f)+1);r.text(u)},activateVideos:function(n){return n.fitVids({customSelector:"iframe.videoPlayer"})}};return{init:function(n){return t.checkForModals(n)},resizeVids:function(n){return t.activateVideos(n)}}}